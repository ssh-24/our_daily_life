{"version":3,"file":"static/js/194.2e64321f.chunk.js","mappings":"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","sources":["components/Profile.js","hooks/useCollectionDtl.js"],"sourcesContent":["/*eslint-disable */\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuthContext } from '../hooks/useAuthContext';\r\nimport { useCollectionDtl } from '../hooks/useCollectionDtl';\r\nimport { setVisible } from \"../store/inputSlice\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nfunction Profile(props) {\r\n    const {user} = useAuthContext()\r\n    let {uid} = useParams() // ì‚¬ìš©ì id í‚¤ê°’ (URL íŒŒë¼ë¯¸í„°)\r\n    const {documents,error} = useCollectionDtl(\"FeedData\",[\"UID\",\"==\",uid]) // URL íŒŒë¼ë¯¸í„° --> UIDë¡œ í”„ë¡œí•„ ì¡°íšŒ\r\n    const [docReady, setDocReady] = useState(false)\r\n    const loginUserInfo = useSelector((state) => state.loginUserInfo) // ë¡œê·¸ì¸ ìœ ì € ì •ë³´, (Input.js ì—ì„œ ì´ˆê¸° ì…‹íŒ…)\r\n    let [fade, setFade] = useState('') // Animation Style State\r\n    let dispatch = useDispatch()\r\n    let navigate = useNavigate() // í˜ì´ì§€ ì´ë™\r\n\r\n    //************************************************************\r\n    // [í˜„ì¬ ì´ìŠˆ ì‚¬í•­] ê°™ì€ í”„ë¡œí•„ í˜ì´ì§€ì—ì„œ ê²€ìƒ‰ ë²„íŠ¼ ì‹œ ë³€ê²½ì´ ì œëŒ€ë¡œ ì•ˆë¨, ìƒˆë¡œê³ ì¹¨ í•˜ë©´ ì˜ ë¨\r\n    //************************************************************\r\n    const location = useLocation() // í˜„ì¬ URL ì •ë³´ ê°€ì ¸ì˜¤ê¸° ìœ„í•¨\r\n    let [urlInfo, setUrlInfo] = useState('') // ì–˜ë¡œ ìƒˆë¡œê³ ì¹¨ ì–´ë–»ê²Œ êµ¬í˜„í•´????\r\n    \r\n    useEffect(()=>{\r\n        console.log(\"URLì´ ë°”ê¼ˆìë‚˜ì—¬\", location.pathname.replaceAll('/profile/',''))\r\n        setUrlInfo(location.pathname.replaceAll('/profile/',''))\r\n    }, [location])\r\n    //************************************************************\r\n    \r\n    \r\n    // í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½\r\n    const profileChange = () => {\r\n        // ë¡œì§ êµ¬í˜„í•´ì•¼ í•¨..\r\n        window.blur()\r\n        alert(\"ê¸°ëŠ¥ êµ¬í˜„ ì¤‘ ^.^\")\r\n    }\r\n\r\n    // ê²Œì‹œë¬¼ ë“±ë¡\r\n    const uploadClicked = () => {\r\n        dispatch(setVisible(true)) // ìƒˆ ê²Œì‹œë¬¼ ë“±ë¡ ëª¨ë‹¬ ë³´ì´ê²Œ\r\n    }\r\n\r\n    // ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™ + ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™\r\n    const goMain = () => {\r\n        navigate('/')\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    }\r\n\r\n    // ê²Œì‹œë¬¼ ìƒì„¸ í™”ë©´ìœ¼ë¡œ ì´ë™\r\n    const goDetail = (props) => {\r\n        navigate('/detail/'+props.id) // ê²Œì‹œë¬¼ idë¥¼ URL íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸´ë‹¤ (í‚¤ê°’)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        // documents ì—¬ë¶€ state ë³€ê²½\r\n        setDocReady(false)\r\n        // ë‚´ í”„ë¡œí•„ì´ë©´\r\n        if (user.uid === uid) {\r\n            console.log(\"user :\",user)\r\n            console.log(\"ì´ë©”ì¼ :\",user.email)\r\n            console.log(\"ë‹‰ë„¤ì„ :\",user.displayName)\r\n        }\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        // documents ì—¬ë¶€ state ë³€ê²½\r\n        setDocReady(true)\r\n        // ë‚´ í”„ë¡œí•„ì´ë©´\r\n        if (user.uid === uid) {\r\n            console.log(\"ë‚´ ê¸€ :\",documents)\r\n        } else {\r\n            console.log(\"ê²€ìƒ‰ :\",documents)\r\n        }\r\n    },[documents])\r\n\r\n    useEffect(()=>{\r\n        setFade(docReady? 'transition-end': '') // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼\r\n    },[docReady])\r\n\r\n\r\n    return (\r\n        <>\r\n            <section>\r\n                <div className={`container transition-start ${fade}`}>\r\n                    <div className='container-wrap'>\r\n                        <img className=\"profile-img\" src={\r\n                            user.uid === uid ?\r\n                             loginUserInfo.profileImage\r\n                             : docReady && documents != null && documents.length !== 0 ?\r\n                                documents[0].profileImage\r\n                                : '/assets/profile_default.png'\r\n                             } alt=\"í”„ë¡œí•„ ì‚¬ì§„\"/>\r\n                        <div className=\"profile-info\">\r\n                            <h3>{\r\n                                user.uid === uid ?\r\n                                user.email\r\n                                : docReady && documents != null && documents.length !== 0 ?\r\n                                    documents[0].userEmail\r\n                                    : 'ë°ì´í„°ê°€ ì—†ì–´ìš”!'\r\n                            }</h3>\r\n                            <h4>@{\r\n                                user.uid === uid ?\r\n                                user.displayName\r\n                                : docReady && documents != null && documents.length !== 0 ?\r\n                                    documents[0].displayName\r\n                                    : 'ë°ì´í„°ê°€ ì—†ì–´ìš”!'\r\n                            }</h4>\r\n                            <p>\r\n                                {/* ì†Œê°œê¸€ ë‚´ìš©ì´ ì§§ì„ ë•Œ ì¤„ì–´ë“œëŠ” ê±° ë§‰ì•„ì•¼ í•  ë“¯*/}\r\n                                {\r\n                                    user.uid === uid ?\r\n                                    loginUserInfo.profileIntro\r\n                                    : //** ì†Œê°œê¸€ ë°ì´í„°ëŠ” ë”°ë¡œ ë°›ì•„ì™€ì•¼í• ë“¯ **\r\n                                     'ì•ˆë…•í•˜ì„¸ìš”! ì €ì˜ í”„ë¡œí•„ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.'\r\n                                }\r\n                            </p>\r\n                            {\r\n                                // í”„ë¡œí•„ ë³€ê²½ ë²„íŠ¼ --> ë‚´ í”„ë¡œí•„ì—ì„œë§Œ í‘œì‹œ\r\n                                user.uid === uid ?\r\n                                <button onClick={(e)=>{\r\n                                    e.preventDefault()\r\n                                    profileChange()\r\n                                }}>í”„ë¡œí•„ ë³€ê²½</button>\r\n                                : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`content-list transition-start ${fade}`}>\r\n                    <div className='content-wrap'>\r\n                        {\r\n                            docReady && documents != null && documents.length !== 0\r\n                            ? documents.map((a,i)=>{\r\n                                return (\r\n                                    // í´ë¦­ ì‹œ ìƒì„¸ë¡œ ì´ë™!\r\n                                    <img key={i} src={a.downloadURL} alt='#' onClick={(e) => goDetail(a)}/>\r\n                                )\r\n                            })\r\n                            : // ìœ ì € ê²€ìƒ‰ --> ê²Œì‹œë¬¼ ì‘ì„±í•œ ì‚¬ëŒë§Œ ë˜ê¸° ë•Œë¬¸ì— ì˜ˆì™¸ì²˜ë¦¬ X\r\n                              <div className=\"no-post\">\r\n                                <p>ì‘ì„±ëœ ê²Œì‹œë¬¼ì´ ì—†ì–´ìš”!</p>\r\n                                <button className=\"upload-btn-profile\" onClick={uploadClicked}>\r\n                                    ê²Œì‹œë¬¼ ì‘ì„±í•˜ê¸°\r\n                                </button>\r\n                              </div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"profile-go-main-btn-area\">\r\n                        <button className=\"go-main-btn\" onClick={goMain}>\r\n                            ëŒì•„ê°€ê¸°\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","/* eslint-disable*/\r\n\r\n// ì»¬ë ‰ì…˜ì— ì ‘ê·¼í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ì„ ìœ„í•œ í›…\r\n// ë©”ì¸í™”ë©´ ì™¸ì— ì‚¬ìš©\r\nimport { appFireStore } from \"../firebase/config\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { onSnapshot,collection,query,where,orderBy } from \"firebase/firestore\";\r\n\r\nexport const useCollectionDtl = (transaction, myQuery, order=\"\") => { // myQuery: íŒŒì´ì–´ìŠ¤í† ì–´ ì¿¼ë¦¬ ì‚¬ìš©ì„ ìœ„í•œ íŒŒë¼ë¯¸í„°\r\n\r\n    // documents ë°ì´í„° ê´€ë¦¬, error ê´€ë¦¬\r\n    const [documents, setDocuments] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    // ğŸ’› collectionì— ë³€í™”ê°€ ìƒê¸¸ë•Œë§ˆë‹¤ ì‹¤í–‰í•©ë‹ˆë‹¤. ë•Œë¬¸ì— í•­ìƒ ìµœì‹ ì˜ ì»¬ë™ì…˜ ìƒíƒœë¥¼ ë°˜í™˜ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n    useEffect(() => {\r\n        let q;\r\n        if(order.length>0){\r\n            q = query(collection(appFireStore, transaction),where(...myQuery),orderBy(\"createdTime\",\"desc\"));\r\n        }\r\n        else{\r\n            q = query(collection(appFireStore, transaction),where(...myQuery));\r\n        }\r\n\r\n        console.log(q);\r\n        // onSnapshot: ê°€ì¥ ìµœê·¼ ì»¬ë™ì…˜ì˜ ë‚´ìš© ë°˜í™˜ \r\n        // unsubscribe: ë°ì´í„° ìˆ˜ì‹ ì„ ì¤‘ë‹¨(ë°ì´í„° ì˜¤ëŠ”ê±° ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ì„ë•Œ ì‚¬ìš©.)\r\n        const unsubscribe = onSnapshot(myQuery ? q : (collection(appFireStore, transaction)),\r\n            \r\n            // ì‘ë‹µë°›ì€ ì»¬ë™ì…˜ì„ snapshotì— ì €ì¥\r\n            (snapshot) => {\r\n                let result = [];\r\n                // ë°°ì—´í˜•íƒœë¡œ ì €ì¥ë˜ì–´ìˆìŒ => forEach ì‚¬ìš©\r\n                snapshot.docs.forEach((doc) => {\r\n                    // document ë°ì´í„°ë‘ id ê°’ push í•´ì£¼ê¸°\r\n                    result.push({ ...doc.data(), id: doc.id });\r\n                })\r\n                console.log(result);\r\n                setDocuments(result);\r\n                setError(null);\r\n            },\r\n            (error) => {\r\n                setError(error.message);\r\n            });\r\n            \r\n        //ğŸ’› ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ êµ¬ë…í•˜ëŠ” ê²½ìš° clean-up í•¨ìˆ˜ëŠ” useEffectí›…ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë ë•Œ ì‹¤í–‰ë˜ì–´ êµ¬ë…ì„ ì¢…ë£Œí•˜ê²Œ ë©ë‹ˆë‹¤.\r\n        return unsubscribe; // clean-up í•¨ìˆ˜\r\n\r\n    }, [collection])// ë§¤ë²ˆ ì‹¤í–‰ë  í•„ìš”ê°€ ì—†ê³ , ì»¬ë™ì…˜ ë³€í™”ê°€ \r\n    return { documents, error }\r\n}"],"names":["props","user","useAuthContext","uid","useParams","useCollectionDtl","documents","error","useState","docReady","setDocReady","loginUserInfo","useSelector","state","fade","setFade","dispatch","useDispatch","navigate","useNavigate","location","useLocation","setUrlInfo","useEffect","console","log","pathname","replaceAll","email","displayName","className","src","profileImage","length","alt","userEmail","profileIntro","onClick","e","preventDefault","window","blur","alert","map","a","i","downloadURL","id","goDetail","setVisible","scrollTo","top","behavior","transaction","myQuery","order","setDocuments","setError","q","query","collection","appFireStore","where","orderBy","unsubscribe","onSnapshot","snapshot","result","docs","forEach","doc","push","data","message"],"sourceRoot":""}