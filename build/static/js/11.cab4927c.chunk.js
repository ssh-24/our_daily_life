"use strict";(self.webpackChunkour_daily_life=self.webpackChunkour_daily_life||[]).push([[11],{8011:function(e,t,s){var n=s(3433),o=s(9439),r=s(2791),i=s(8277),a=s(9434),l=s(6849),c=s(7689),d=s(6625),p=s(5895),u=s(184);t.Z=function(e){var t=(0,i.C)("FeedData"),s=t.editDocument,h=(t.response,(0,l.E)()),m=(h.isAuthReady,h.user),f=(0,c.s0)(),g=(0,a.I0)(),x=(0,r.useState)(""),y=(0,o.Z)(x,2),v=y[0],j=y[1],k=(0,r.useState)(!1),w=(0,o.Z)(k,2),b=w[0],D=w[1],N=(new Date).getFullYear();(0,r.useEffect)((function(){var e=setTimeout((function(){j("transition-end")}),100);return function(){clearTimeout(e),j(""),D(!1)}}),[]);var P,C,Z=function(e){f("/profile/".concat(e)),window.scrollTo({top:0,behavior:"smooth"}),window.location.reload()},W=function(e){f("/detail/"+e.id)};return(0,u.jsx)("article",{className:"Post transition-start ".concat(v),children:(0,u.jsxs)("div",{className:"Post-area",children:[(0,u.jsx)("div",{className:"Post-user-area",children:(0,u.jsxs)("div",{className:"Post-writer-info",onClick:function(){Z(e.post.UID)},children:[(0,u.jsx)("div",{className:"Post-user-profileImage",children:(0,u.jsx)("img",{src:e.post.profileImage,alt:"\ud504\ub85c\ud544\uc0ac\uc9c4"})}),(0,u.jsx)("span",{className:"Post-user-id",children:e.post.displayName})]})}),(0,u.jsx)("div",{className:"Post-img",onClick:function(){W(e.post)},children:(0,u.jsx)("div",{className:"Post-img-bg",children:(0,u.jsx)("img",{src:e.post.downloadURL,alt:"\uac8c\uc2dc\ubb3c\uc0ac\uc9c4",id:e.post.id})})}),(0,u.jsxs)("div",{className:"Post-icon-btn-area",children:[(0,u.jsxs)("div",{className:"three-btn-area",children:[(0,u.jsx)("button",{className:"like-btn",onClick:function(t){var o=e.post.likes,r=e.post.peopleWhoLike.includes(m.uid),i=(0,n.Z)(e.post.peopleWhoLike);i.includes(m.uid)?i=i.filter((function(e){return e!=m.uid})):i.push(m.uid),r?console.log("\uc88b\uc544\uc694 \ucde8\uc18c"):console.log("\uc88b\uc544\uc694"),r?(o--,s({peopleWhoLike:i,likes:o},e.post.id)):(o++,s({peopleWhoLike:i,likes:o},e.post.id))},children:(C=e.post.peopleWhoLike.includes(m.uid),C?(0,u.jsx)("svg",{"aria-label":"\uc88b\uc544\uc694 \ucde8\uc18c",color:"#ed4956",fill:"#ed4956",height:"24",role:"img",viewBox:"0 0 48 48",width:"24",children:(0,u.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 \r 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 \r 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 \r 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 \r 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}):(0,u.jsx)("svg",{"aria-label":"\uc88b\uc544\uc694",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,u.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197\r 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141\r 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675\r 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04\r 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61\r 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018\r 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774\r 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z"})}))}),(0,u.jsx)("button",{className:"reply-btn",onClick:function(){W(e.post),setTimeout((function(){g((0,d.G)(!0))}),500)},children:(0,u.jsx)("svg",{"aria-label":"\ub313\uae00\uc4f0\uae30",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,u.jsx)("path",{d:"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})})}),(0,u.jsx)("button",{className:"share-btn",onClick:function(){!function(e){if(confirm("\uce74\uce74\uc624\ud1a1\uc73c\ub85c \uacf5\uc720\ud558\uc2dc\uaca0\uc5b4\uc694?")){Kakao.Share.sendDefault({objectType:"feed",content:{title:e.displayName,description:e.postText+"\n"+e.createdDate,imageUrl:e.downloadURL,link:{mobileWebUrl:window.location.href+"detail/".concat(e.id),webUrl:window.location.href+"detail/".concat(e.id)}},social:{likeCount:e.likes,commentCount:e.replies,sharedCount:e.shares},buttons:[{title:"\ubcf4\ub7ec\uac00\uae30",link:{mobileWebUrl:window.location.href+"detail/".concat(e.id),webUrl:window.location.href+"detail/".concat(e.id)}}]});var t=e.shares+1;s({shares:t},e.id)}}(e.post)},children:(0,u.jsxs)("svg",{"aria-label":"\ubcf4\ub0b4\uae30",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,u.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"22",x2:"9.218",y1:"3",y2:"10.083"}),(0,u.jsx)("polygon",{fill:"none",points:"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]})})]}),(0,u.jsx)("div",{className:"one-btn-area",children:(0,u.jsx)("button",{className:"save-btn",onClick:function(t){var o=e.post.peopleWhoSave.includes(m.uid),r=(0,n.Z)(e.post.peopleWhoSave);r.includes(m.uid)?r=r.filter((function(e){return e!=m.uid})):r.push(m.uid),o?alert("\uac8c\uc2dc\ubb3c\uc744 \ubcf4\uad00\ud568\uc5d0\uc11c \uc0ad\uc81c\ud560\uac8c\uc694!"):alert("\uac8c\uc2dc\ubb3c\uc744 \ubcf4\uad00\ud568\uc5d0 \ucd94\uac00\ud560\uac8c\uc694!"),s({peopleWhoSave:r},e.post.id)},children:(P=e.post.peopleWhoSave.includes(m.uid),P?(0,u.jsx)("svg",{"aria-label":"\uc800\uc7a5 \ucde8\uc18c",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,u.jsx)("polygon",{points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}):(0,u.jsx)("svg",{"aria-label":"\uc800\uc7a5",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,u.jsx)("polygon",{fill:"none",points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}))})})]}),(0,u.jsx)("div",{className:"Post-like-area",children:(0,u.jsx)("p",{className:"Post-like-count",onClick:function(){W(e.post),setTimeout((function(){g((0,p.l)(!0))}),500)},children:(0,u.jsx)("b",{children:e.post.likes})})}),(0,u.jsx)("div",{className:"Post-text-area",children:(0,u.jsxs)("div",{className:"Post-text",children:[(0,u.jsx)("div",{className:"Post-writer-name",onClick:function(){Z(e.post.UID)},children:(0,u.jsx)("b",{children:e.post.displayName})}),(0,u.jsx)("div",{className:"Post-text-postText",children:e.post.postText})]})}),e.post.replies>0?(0,u.jsxs)(u.Fragment,{children:[!b&&e.post.replies>2?(0,u.jsx)("div",{className:"Post-reply-count",onClick:function(){D(!0)},children:e.post.replies}):(0,u.jsx)("div",{className:"Post-reply-border"}),(0,u.jsx)("div",{className:"Post-reply-area",children:b&&e.post.replies>0?e.post.peopleWhoReply.map((function(e,t){return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"Post-reply",children:[(0,u.jsx)("span",{className:"Post-reply-nickname",onClick:function(){Z(e.UID)},children:(0,u.jsx)("b",{children:e.displayName})}),(0,u.jsx)("span",{className:"Post-reply-text",children:e.replyText})]},t)})})):e.post.replies>=2?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"Post-reply",children:[(0,u.jsx)("span",{className:"Post-reply-nickname",onClick:function(){Z(e.post.peopleWhoReply[0].UID)},children:(0,u.jsx)("b",{children:e.post.peopleWhoReply[0].displayName})}),(0,u.jsx)("span",{className:"Post-reply-text",children:e.post.peopleWhoReply[0].replyText})]}),(0,u.jsxs)("div",{className:"Post-reply",children:[(0,u.jsx)("span",{className:"Post-reply-nickname",onClick:function(){Z(e.post.peopleWhoReply[1].UID)},children:(0,u.jsx)("b",{children:e.post.peopleWhoReply[1].displayName})}),(0,u.jsx)("span",{className:"Post-reply-text",children:e.post.peopleWhoReply[1].replyText})]})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"Post-reply",children:[(0,u.jsx)("span",{className:"Post-reply-nickname",onClick:function(){Z(e.post.peopleWhoReply[0].UID)},children:(0,u.jsx)("b",{children:e.post.peopleWhoReply[0].displayName})}),(0,u.jsx)("span",{className:"Post-reply-text",children:e.post.peopleWhoReply[0].replyText})]})})})]}):null,(0,u.jsx)("div",{className:"post-date",children:N===1*e.post.createdDate.substring(0,4)?e.post.createdDate.substring(5,7)+"\uc6d4 "+e.post.createdDate.substring(8,10)+"\uc77c "+e.post.createdDate.substring(11):e.post.createdDate.substring(0,4)+"\ub144 "+e.post.createdDate.substring(5,7)+"\uc6d4 "+e.post.createdDate.substring(8,10)+"\uc77c "+e.post.createdDate.substring(11)})]})})}},8277:function(e,t,s){s.d(t,{C:function(){return f}});var n=s(4165),o=s(1413),r=s(5861),i=s(9439),a=s(2791),l=s(77),c=s(7799),d=s(276);function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=new Date,r=o.getFullYear(),i=o.getMonth(),a=o.getDate(),l=o.getHours(),c=o.getMinutes(),d=o.getMilliseconds();return 0!==t&&o.setMonth(o.getMonth()+t),0!==s&&o.setDate(o.getDate()+s),0!==r&&o.setFullYear(o.getFullYear()+n),i=("0"+(1+o.getMonth())).slice(-2),a=("0"+o.getDate()).slice(-2),(r=o.getFullYear())+e+i+e+a+l+c+d}function u(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",s=arguments.length>2?arguments[2]:void 0,n=s.getFullYear(),o=s.getMonth()+1,r=s.getDate(),i=s.getHours(),a=s.getMinutes();1===(""+o).length&&(o="0"+o);1===(""+r).length&&(r="0"+r);1===(""+i).length&&(i="0"+i);1===(""+a).length&&(a="0"+a);return""+n+e+o+e+r+" "+i+t+a}(e,t,new Date)}var h={document:null,isPending:!1,error:null,success:!1},m=function(e,t){switch(t.type){case"isPending":return{isPending:!0,document:null,success:!1,error:null};case"addDoc":case"editDoc":case"deleteDoc":return{isPending:!1,document:t.payload,success:!0,error:null};case"error":return{isPending:!1,document:null,success:!1,error:t.payload};default:return e}},f=function(e){var t=(0,a.useReducer)(m,h),s=(0,i.Z)(t,2),f=s[0],g=s[1],x=(0,a.useState)([]),y=(0,i.Z)(x,2),v=(y[0],y[1],(0,c.hJ)(l.d_,e)),j=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i,a,h,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.AB.fromDate(new Date),i=u("/",":"),a=p(),h=(0,d.iH)(l.tO,"images/"+s.name),m=(0,d.B0)(h,s),g({type:"isPending"});try{m.on("state_changed",(function(e){}),(function(e){console.error("\uc2e4\ud328 \uc0ac\uc720 --\x3e ",e)}),(function(){(0,d.Jt)(m.snapshot.ref).then((function(e){console.log("\uc5c5\ub85c\ub4dc \uacbd\ub85c --\x3e ",e);var s=(0,c.ET)(v,(0,o.Z)((0,o.Z)({},t),{},{createdTime:r,createdDate:i,createdUqe:a,downloadURL:e}));console.log(s),g({type:"addDoc",payload:s}),console.log("\uc800\uc7a5\uc644\ub8cc")}))}))}catch(n){g({type:"error",payload:n.message})}case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=l.AB.fromDate(new Date),r=u("/",":"),i=p(),g({type:"isPending"});try{a=(0,c.ET)(v,(0,o.Z)((0,o.Z)({},t),{},{createdTime:s,createdDate:r,createdUqe:i})),console.log(a),g({type:"addDoc",payload:a}),console.log("\uc800\uc7a5\uc644\ub8cc")}catch(n){g({type:"error",payload:n.message})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({type:"isPending"}),e.prev=1,e.next=4,(0,c.r7)((0,c.JU)(v,s),(0,o.Z)({},t));case 4:r=e.sent,g({type:"editDoc",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),g({type:"error",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({type:"isPending"}),e.prev=1,e.next=4,(0,c.oe)((0,c.JU)(v,t));case 4:s=e.sent,g({type:"deleteDoc",payload:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),g({type:"error",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=l.AB.fromDate(new Date),r=u("/",":"),i=p(),g({type:"isPending"});try{a=(0,c.ET)(v,(0,o.Z)((0,o.Z)({},t),{},{createdTime:s,createdDate:r,createdUqe:i})),console.log(a),g({type:"addDoc",payload:a}),console.log("\uc800\uc7a5\uc644\ub8cc")}catch(n){g({type:"error",payload:n.message})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addDocument:j,addComment:k,editDocument:w,deleteDocument:b,addUser:D,response:f}}}}]);
//# sourceMappingURL=11.cab4927c.chunk.js.map