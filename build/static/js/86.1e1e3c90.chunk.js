"use strict";(self.webpackChunkour_daily_life=self.webpackChunkour_daily_life||[]).push([[86],{8086:function(e,t,n){n.r(t);var r=n(1413),a=n(9439),o=n(2791),s=n(9434),c=n(6849),i=n(2969),l=n(8277),u=n(184);t.default=function(){var e=(0,c.E)(),t=(e.isAuthReady,e.user),n=(0,s.v9)((function(e){return e.inputState})),p=(0,s.v9)((function(e){return e.inputState.visible})),f=(0,s.I0)(),g=(0,o.useState)(""),h=(0,a.Z)(g,2),m=h[0],v=h[1],y=(0,o.useState)(""),x=(0,a.Z)(y,2),D=x[0],w=x[1],Z=(0,o.useRef)("");(0,o.useEffect)((function(){document.body.style.overflow=p?"hidden":"",f((0,i.AM)("")),v("")}),[p]),(0,o.useEffect)((function(){return console.log(t),f((0,i.WG)(t.email)),f((0,i.qS)(t.uid)),f((0,i.hC)(t.displayName)),function(){f((0,i.yx)(!1)),f((0,i.AM)("")),f((0,i.WG)("")),f((0,i.qS)(""))}}),[]),window.onkeydown=function(e){"Escape"===e.key&&console.log("\ub538")},window.onkeyup=function(e){"Escape"===e.key&&(console.log("\uae4d"),f((0,i.yx)(!1)))};var j=(0,l.C)("FeedData"),k=j.addDocument,F=(j.response,function(e){var t={type:e.target.type,value:e.target.value};"text"===t.type?f((0,i.AM)(t.value)):M(e)}),M=function(e){var t=new FileReader;t.onload=function(e){v(e.target.result)},console.log(e.target.files[0]),t.readAsDataURL(e.target.files[0]),w(e.target.files[0])};return(0,u.jsx)(u.Fragment,{children:p?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"dimmed-layer"}),(0,u.jsx)("div",{ref:Z,className:"input-area",children:(0,u.jsx)("div",{className:"form-container",children:(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(0,r.Z)({},n);t.likes=0,t.replies=0,t.profileImage="/assets/profile_default.png",t.peopleWhoLike=[],t.peopleWhoReply=[],console.log("\uac8c\uc2dc\ud560 Data :",t),k(t,D),f((0,i.yx)(!1))},children:[(0,u.jsx)("h3",{children:"\uc0c8 \uac8c\uc2dc\ubb3c \ub9cc\ub4e4\uae30"}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{accept:"image/jpeg,image/png,image/heic,image/heif,video/mp4,video/quicktime",className:"img-input",multiple:"",type:"file",onChange:F,required:!0})}),m.length>0&&(0,u.jsx)("img",{src:m,alt:"",style:{marginBottom:"13px",width:"80%",maxHeight:"200px"}}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"text",value:n.postText,onChange:F,className:"form-control",name:"postText",placeholder:"\ubb38\uad6c \uc785\ub825",required:!0})}),(0,u.jsx)("input",{type:"submit",className:"post-btn",value:"\uacf5\uc720\ud558\uae30"}),(0,u.jsx)("div",{className:"close-btn",children:(0,u.jsx)(d,{onClick:function(e){e.preventDefault(),f((0,i.yx)(!1))}})})]})})})]}):null})};var d=function(e){return(0,u.jsxs)("svg",(0,r.Z)((0,r.Z)({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),{},{children:[(0,u.jsx)("title",{children:"close"}),(0,u.jsx)("path",{fill:"#FFFFFF",d:"M12.78 4.28a.75.75 0 00-1.06-1.06L8 6.94 4.28 3.22a.75.75 0 00-1.06 1.06L6.94 8l-3.72 3.72a.75.75 0 101.06 1.06L8 9.06l3.72 3.72a.75.75 0 101.06-1.06L9.06 8l3.72-3.72z"})]}))}},8277:function(e,t,n){n.d(t,{C:function(){return h}});var r=n(4165),a=n(1413),o=n(5861),s=n(9439),c=n(2791),i=n(77),l=n(7799),u=n(276);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=new Date,o=a.getFullYear(),s=a.getMonth(),c=a.getDate(),i=a.getHours(),l=a.getMinutes(),u=a.getMilliseconds();return 0!==t&&a.setMonth(a.getMonth()+t),0!==n&&a.setDate(a.getDate()+n),0!==o&&a.setFullYear(a.getFullYear()+r),s=("0"+(1+a.getMonth())).slice(-2),c=("0"+a.getDate()).slice(-2),(o=a.getFullYear())+e+s+e+c+i+l+u}function p(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",n=arguments.length>2?arguments[2]:void 0,r=n.getFullYear(),a=n.getMonth()+1,o=n.getDate(),s=n.getHours(),c=n.getMinutes();1===(""+a).length&&(a="0"+a);1===(""+o).length&&(o="0"+o);1===(""+s).length&&(s="0"+s);1===(""+c).length&&(c="0"+c);return""+r+e+a+e+o+" "+s+t+c}(e,t,new Date)}var f={document:null,isPending:!1,error:null,success:!1},g=function(e,t){switch(t.type){case"isPending":return{isPending:!0,document:null,success:!1,error:null};case"addDoc":case"editDoc":case"deleteDoc":return{isPending:!1,document:t.payload,success:!0,error:null};case"error":return{isPending:!1,document:null,success:!1,error:t.payload};default:return e}},h=function(e){var t=(0,c.useReducer)(g,f),n=(0,s.Z)(t,2),h=n[0],m=n[1],v=(0,c.useState)([]),y=(0,s.Z)(v,2),x=(y[0],y[1],(0,l.hJ)(i.d_,e)),D=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,s,c,f,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i.AB.fromDate(new Date),s=p("/",":"),c=d(),f=(0,u.iH)(i.tO,"images/"+n.name),g=(0,u.B0)(f,n),m({type:"isPending"});try{g.on("state_changed",(function(e){}),(function(e){console.error("\uc2e4\ud328\uc0ac\uc720\ub294",e)}),(function(){(0,u.Jt)(g.snapshot.ref).then((function(e){console.log("\uc5c5\ub85c\ub4dc\ub41c \uacbd\ub85c\ub294",e);var n=(0,l.ET)(x,(0,a.Z)((0,a.Z)({},t),{},{createdTime:o,createdDate:s,createdUqe:c,downloadURL:e}));console.log(n),m({type:"addDoc",payload:n}),console.log("\uc800\uc7a5\uc644\ub8cc")}))}))}catch(r){m({type:"error",payload:r.message})}case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.AB.fromDate(new Date),o=p("/",":"),s=d(),m({type:"isPending"});try{c=(0,l.ET)(x,(0,a.Z)((0,a.Z)({},t),{},{createdTime:n,createdDate:o,createdUqe:s})),console.log(c),m({type:"addDoc",payload:c}),console.log("\uc800\uc7a5\uc644\ub8cc")}catch(r){m({type:"error",payload:r.message})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({type:"isPending"}),e.prev=1,e.next=4,(0,l.r7)((0,l.JU)(x,n),(0,a.Z)({},t));case 4:o=e.sent,m({type:"editDoc",payload:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m({type:"error",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({type:"isPending"}),e.prev=1,e.next=4,(0,l.oe)((0,l.JU)(x,t));case 4:n=e.sent,m({type:"deleteDoc",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m({type:"error",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.AB.fromDate(new Date),o=p("/",":"),s=d(),m({type:"isPending"});try{c=(0,l.ET)(x,(0,a.Z)((0,a.Z)({},t),{},{createdTime:n,createdDate:o,createdUqe:s})),console.log(c),m({type:"addDoc",payload:c}),console.log("\uc800\uc7a5\uc644\ub8cc")}catch(r){m({type:"error",payload:r.message})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addDocument:D,addComment:w,editDocument:Z,deleteDocument:j,addUser:k,response:h}}}}]);
//# sourceMappingURL=86.1e1e3c90.chunk.js.map