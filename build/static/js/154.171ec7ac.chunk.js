"use strict";(self.webpackChunkour_daily_life=self.webpackChunkour_daily_life||[]).push([[154],{8154:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(9439),a=t(2791),s=t(77),o=t(9460),l=t(6849),i=t(8277),c=t(9434),u=t(9695),d=t(184);var p=function(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],p=n[1],g=(0,a.useState)(""),f=(0,r.Z)(g,2),m=f[0],h=f[1],v=(0,a.useState)(""),y=(0,r.Z)(v,2),x=y[0],j=y[1],D=function(){var e=(0,a.useState)(null),n=(0,r.Z)(e,2),t=n[0],c=n[1],u=(0,a.useState)(!1),d=(0,r.Z)(u,2),p=d[0],g=d[1],f=(0,l.E)().dispatch,m=(0,i.C)("UserData"),h=m.addUser;return m.response,{error:t,isPending:p,signup:function(e,n,t){console.log("\uc778\uc790\ub85c \ubc1b\uc544\uc634??",t),c(null),g(!0),(0,o.Xb)(s.s7,e,n).then((function(r){var a=r.user;if(console.log("\ud68c\uc6d0\uac00\uc785 user: ",a),!a)throw new Error("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");(0,o.ck)(s.s7.currentUser,{displayName:t}).then((function(){f({type:"login",payload:a}),c(null),g(!1)})).catch((function(e){c(e.message),g(!1),console.log(e.message)})).finally((function(){var r=a.uid;h({email:e,password:n,UID:r,profileIntro:"\uc548\ub155\ud558\uc138\uc694! \uc800\uc758 \ud504\ub85c\ud544 \ud398\uc774\uc9c0\ub97c \ubc29\ubb38\ud574\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4",profileImage:"/assets/profile_default.png",displayName:t})}))})).catch((function(e){c(e.message),g(!1),console.log(e.message)})).finally((function(){alert("\uac00\uc785\uc5d0 \uc131\uacf5\ud588\uc5b4\uc694!")}))}}}(),Z=(D.error,D.isPending,D.signup),w=(0,c.v9)((function(e){return e.isSigned})),N=(0,c.I0)(),P=function(e){var n={type:e.target.type,value:e.target.value};"email"===n.type?p(n.value):"password"===n.type?h(n.value):"text"===n.type&&j(n.value)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"login-area",children:[(0,d.jsx)("div",{className:"logo_div",children:(0,d.jsx)("div",{className:"logo-text",children:"Our Daily Life"})}),(0,d.jsxs)("div",{className:"form-container",children:[(0,d.jsxs)("form",{className:"sign-form",onSubmit:function(e){e.preventDefault(),m.length<6?alert("6\uc790\ub9ac \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"):isNaN(m)?alert("\ube44\ubc00\ubc88\ud638\ub294 \uc22b\uc790\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"):Z(t,m,x)},children:[(0,d.jsx)("h2",{children:"\uc2dc\uc791\ud558\uae30"}),(0,d.jsx)("p",{children:"\uc6b0\ub9ac\uc758 \uc77c\uc0c1\uc744 \ud568\uaed8 \uacf5\uc720\ud574\ubd10\uc694:)"}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("input",{type:"email",value:t,onChange:P,className:"form-control",name:"Email",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",required:!0})}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("input",{type:"text",value:x,onChange:P,className:"form-control",name:"DisplayName",placeholder:"\uc0ac\uc6a9\uc790 \uc774\ub984",required:!0})}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("input",{type:"password",value:m,onChange:P,className:"form-control",name:"Password",placeholder:"\ube44\ubc00\ubc88\ud638",required:!0})}),(0,d.jsx)("input",{type:"submit",className:"signup-btn",value:"\ud68c\uc6d0\uac00\uc785"})]}),(0,d.jsxs)("div",{className:"another-area",children:[(0,d.jsx)("p",{children:"\uacc4\uc815\uc774 \uc788\uc5b4\uc694!"}),(0,d.jsx)("button",{className:"another-btn",onClick:function(){N((0,u.v)(!w))},children:"\ub85c\uadf8\uc778\ud558\uae30"})]})]})]})})};var g=function(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],i=n[1],p=(0,a.useState)(""),g=(0,r.Z)(p,2),f=g[0],m=g[1],h=function(){var e=(0,a.useState)(null),n=(0,r.Z)(e,2),t=n[0],i=n[1],c=(0,a.useState)(!1),u=(0,r.Z)(c,2),d=u[0],p=u[1],g=(0,l.E)().dispatch;return{error:t,isPending:d,login:function(e,n){i(null),p(!0),(0,o.e5)(s.s7,e,n).then((function(e){var n=e.user;if(g({type:"login",payload:n}),console.log(n),i(null),p(!1),!n)throw new Error("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");window.location.reload()})).catch((function(e){i(e.message),p(!1),console.log(e.message)}))}}}(),v=(h.error,h.isPending,h.login),y=(0,c.v9)((function(e){return e.isSigned})),x=(0,c.I0)(),j=function(e){var n={type:e.target.type,value:e.target.value};"email"===n.type?i(n.value):"password"===n.type&&m(n.value)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"login-area",children:[(0,d.jsx)("div",{className:"logo_div",children:(0,d.jsx)("div",{className:"logo-text",children:"Our Daily Life"})}),(0,d.jsxs)("div",{className:"form-container",children:[(0,d.jsxs)("form",{className:"sign-form",onSubmit:function(e){e.preventDefault(),v(t,f)},children:[(0,d.jsx)("h2",{children:"\uc2dc\uc791\ud558\uae30"}),(0,d.jsx)("p",{children:"\uc6b0\ub9ac\uc758 \uc77c\uc0c1\uc744 \ud568\uaed8 \uacf5\uc720\ud574\ubd10\uc694:)"}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("input",{type:"email",value:t,onChange:j,className:"form-control",name:"Email",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",required:!0})}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("input",{type:"password",value:f,onChange:j,className:"form-control",name:"Password",placeholder:"\ube44\ubc00\ubc88\ud638",required:!0})}),(0,d.jsx)("input",{type:"submit",className:"signup-btn",value:"\ub85c\uadf8\uc778"})]}),(0,d.jsxs)("div",{className:"another-area",children:[(0,d.jsx)("p",{children:"\uacc4\uc815\uc774 \uc5c6\uc5b4\uc694!"}),(0,d.jsx)("button",{className:"another-btn",onClick:function(){x((0,u.v)(!y))},children:"\uac00\uc785\ud558\uae30"})]})]})]})})};var f=function(){var e=(0,c.v9)((function(e){return e.isSigned}));return(0,d.jsx)(d.Fragment,{children:!0===e?(0,d.jsx)(g,{}):(0,d.jsx)(p,{})})}},8277:function(e,n,t){t.d(n,{C:function(){return m}});var r=t(4165),a=t(1413),s=t(5861),o=t(9439),l=t(2791),i=t(77),c=t(7799),u=t(276);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=new Date,s=a.getFullYear(),o=a.getMonth(),l=a.getDate(),i=a.getHours(),c=a.getMinutes(),u=a.getMilliseconds();return 0!==n&&a.setMonth(a.getMonth()+n),0!==t&&a.setDate(a.getDate()+t),0!==s&&a.setFullYear(a.getFullYear()+r),o=("0"+(1+a.getMonth())).slice(-2),l=("0"+a.getDate()).slice(-2),(s=a.getFullYear())+e+o+e+l+i+c+u}function p(e,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",t=arguments.length>2?arguments[2]:void 0,r=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),o=t.getHours(),l=t.getMinutes();1===(""+a).length&&(a="0"+a);1===(""+s).length&&(s="0"+s);1===(""+o).length&&(o="0"+o);1===(""+l).length&&(l="0"+l);return""+r+e+a+e+s+" "+o+n+l}(e,n,new Date)}var g={document:null,isPending:!1,error:null,success:!1},f=function(e,n){switch(n.type){case"isPending":return{isPending:!0,document:null,success:!1,error:null};case"addDoc":case"editDoc":case"deleteDoc":return{isPending:!1,document:n.payload,success:!0,error:null};case"error":return{isPending:!1,document:null,success:!1,error:n.payload};default:return e}},m=function(e){var n=(0,l.useReducer)(f,g),t=(0,o.Z)(n,2),m=t[0],h=t[1],v=(0,l.useState)([]),y=(0,o.Z)(v,2),x=(y[0],y[1],(0,c.hJ)(i.d_,e)),j=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s,o,l,g,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=i.AB.fromDate(new Date),o=p("/",":"),l=d(),g=(0,u.iH)(i.tO,"images/"+t.name),f=(0,u.B0)(g,t),h({type:"isPending"});try{f.on("state_changed",(function(e){}),(function(e){console.error("\uc2e4\ud328\uc0ac\uc720\ub294",e)}),(function(){(0,u.Jt)(f.snapshot.ref).then((function(e){console.log("\uc5c5\ub85c\ub4dc\ub41c \uacbd\ub85c\ub294",e);var t=(0,c.ET)(x,(0,a.Z)((0,a.Z)({},n),{},{createdTime:s,createdDate:o,createdUqe:l,downloadURL:e}));console.log(t),h({type:"addDoc",payload:t}),console.log("\uc800\uc7a5\uc644\ub8cc")}))}))}catch(r){h({type:"error",payload:r.message})}case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),D=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.AB.fromDate(new Date),s=p("/",":"),o=d(),h({type:"isPending"});try{l=(0,c.ET)(x,(0,a.Z)((0,a.Z)({},n),{},{createdTime:t,createdDate:s,createdUqe:o})),console.log(l),h({type:"addDoc",payload:l}),console.log("\uc800\uc7a5\uc644\ub8cc")}catch(r){h({type:"error",payload:r.message})}case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({type:"isPending"}),e.prev=1,e.next=4,(0,c.r7)((0,c.JU)(x,t),(0,a.Z)({},n));case 4:s=e.sent,h({type:"editDoc",payload:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h({type:"error",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({type:"isPending"}),e.prev=1,e.next=4,(0,c.oe)((0,c.JU)(x,n));case 4:t=e.sent,h({type:"deleteDoc",payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h({type:"error",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.AB.fromDate(new Date),s=p("/",":"),o=d(),h({type:"isPending"});try{l=(0,c.ET)(x,(0,a.Z)((0,a.Z)({},n),{},{createdTime:t,createdDate:s,createdUqe:o})),console.log(l),h({type:"addDoc",payload:l}),console.log("\uc800\uc7a5\uc644\ub8cc")}catch(r){h({type:"error",payload:r.message})}case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{addDocument:j,addComment:D,editDocument:Z,deleteDocument:w,addUser:N,response:m}}}}]);
//# sourceMappingURL=154.171ec7ac.chunk.js.map