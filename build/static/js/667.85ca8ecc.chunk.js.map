{"version":3,"file":"static/js/667.85ca8ecc.chunk.js","mappings":"6RA8FA,MAvFA,SAAoBA,GAChB,OAAmCC,EAAAA,EAAAA,GAAa,YAAxCC,EAAY,EAAZA,aACJC,GAD0B,EAARC,UACPC,EAAAA,EAAAA,OACTC,GAAgBC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMF,aAAa,IAChE,GAAsBG,EAAAA,EAAAA,UAAS,IAAG,eAA7BC,EAAI,KAAEC,EAAO,KAClB,GAA8BF,EAAAA,EAAAA,UAAS,CACnCG,YAAaN,EAAcM,YAC3BC,IAAKP,EAAcO,IACnBC,UAAW,KACb,eAJGC,EAAQ,KAAEC,EAAW,KAMLF,GAAcC,EAA3BH,YAA2BG,EAAdD,WAmDrB,OAjBAG,EAAAA,EAAAA,YAAU,WACNN,EAAQ,iBACZ,GAAE,IAGFO,OAAOC,UAAY,SAACC,GACH,WAAVA,EAAEC,KACDC,QAAQC,IAAI,SAEpB,EACAL,OAAOM,QAAU,SAACJ,GACD,WAAVA,EAAEC,MACDC,QAAQC,IAAI,UACZpB,GAASsB,EAAAA,EAAAA,IAAa,IAE9B,GAGI,iCAEI,gBAAKC,UAAS,uBAAkBhB,MAEhC,gBAAKgB,UAAS,sCAAiChB,GAAO,UAClD,gBAAKgB,UAAU,iBAAgB,UAC3B,kBAAMC,SA9CL,SAACP,GACdA,EAAEQ,iBACF,IAAIC,EAAWd,EACXe,EAAiB9B,EAAM+B,KAAKD,eAC5BE,EAAUhC,EAAM+B,KAAKC,QAIzBF,EAAeG,KAAKJ,GAKpBG,IACA9B,EAAa,CAAE4B,eAAAA,EAAgBE,QAAAA,GAAWhC,EAAM+B,KAAKG,IACpDC,MAAK,WAEFhC,GAASsB,EAAAA,EAAAA,IAAa,GAC1B,GACJ,EA2ByC,WACrB,gBAAKC,UAAU,aAAY,UACvB,kBAAOU,KAAK,OAAOC,KAAK,YAAYC,MAAOxB,EAAWyB,SA1D7D,SAACnB,GACd,MAAwBA,EAAEoB,OAAlBF,EAAK,EAALA,MAAOD,EAAI,EAAJA,KACfrB,GAAY,kBACPD,GAAQ,cACVsB,EAAOC,IAEd,EAoDkGZ,UAAU,gCAAgCe,YAAY,4DAAeC,UAAQ,OAE3J,kBAAON,KAAK,SAASV,UAAU,WAAWY,MAAM,+BAChD,gBAAKZ,UAAU,YAAW,UACtB,SAACiB,EAAQ,CAACC,QAAS,SAACxB,GAChBA,EAAEQ,iBACFzB,GAASsB,EAAAA,EAAAA,IAAa,GAC1B,eAO5B,EAKMkB,EAAW,SAAC3C,GAAK,OACnB,iCAGI6C,QAAQ,YACRC,MAAM,6BACNC,KAAK,QACD/C,GAAK,eAEb,2BAAQ,WACR,iBACE+C,KAAK,UACLC,EAAE,+KAEA,E,UCxBR,MAjFA,SAAoBhD,GAChB,OAAsBS,EAAAA,EAAAA,UAAS,IAAG,eAA7BC,EAAI,KAAEC,EAAO,KAClB,GAA8BF,EAAAA,EAAAA,UAAS,IAAG,eAArCwC,EAAQ,KAAEC,EAAW,KACtB/C,GAAWE,EAAAA,EAAAA,MACX8C,GAAWC,EAAAA,EAAAA,MAQTC,EAAY,SAACC,GACfH,EAAS,YAAD,OAAaG,IALrBpC,OAAOqC,SAAS,CAAEC,IAAK,EAAGC,SAAU,WASpCvC,OAAOwC,SAASC,QACpB,EAgCA,OA7BA1C,EAAAA,EAAAA,YAAU,WACNN,EAAQ,kBAER,IAAIiD,EAAa,GACjB5D,EAAM6D,cAAcC,KAAI,SAACC,EAAEC,GACvBhE,EAAMiE,MAAMC,SAAQ,SAACC,GACbA,EAAGtD,MAAQkD,GACXH,EAAW3B,KAAKkC,EAExB,GACJ,IAGAjB,EAAYU,EAChB,GAAE,IAGF1C,OAAOC,UAAY,SAACC,GACH,WAAVA,EAAEC,KACDC,QAAQC,IAAI,SAEpB,EACAL,OAAOM,QAAU,SAACJ,GACD,WAAVA,EAAEC,MACDC,QAAQC,IAAI,UACZpB,GAASiE,EAAAA,EAAAA,IAAa,IAE9B,GAGI,iCAEI,gBAAK1C,UAAS,8BAAyBhB,GAAQkC,QAAS,WAAKzC,GAASiE,EAAAA,EAAAA,IAAa,GAAO,KAC1F,gBAAK1C,UAAS,4CAAuChB,GAAO,UACxD,iBAAKgB,UAAU,wBAAuB,WAClC,eAAIA,UAAU,qBAAoB,SAAC,gDAEX,IAApBuB,EAASoB,OACLpB,EAASa,KAAI,SAACC,EAAEC,GACZ,OACI,iBAAKtC,UAAU,iBAA6BkB,QAAS,WAAKS,EAAUU,EAAElD,IAAI,EAAE,WACxE,gBAAKa,UAAU,yBAAwB,UACnC,gBAAK4C,IAAKP,EAAEQ,aAAcC,IAAI,sCAElC,iBAAM9C,UAAU,iBAAgB,SAAEqC,EAAEnD,gBAJHmD,EAAElD,IAO/C,KAEA,iCACI,eAAIa,UAAU,oBAAmB,SAAC,2EAClC,eAAIA,UAAU,0BAAyB,SAAC,8EAOxE,EC8WA,MAtbA,SAAgB1B,GACd,IAkGuByE,EAnCAC,EA/DvB,GAAmDzE,EAAAA,EAAAA,GAAa,YAAxDC,EAAY,EAAZA,aAAcyE,EAAc,EAAdA,eACFC,GAD0B,EAARxE,UACNyE,EAAAA,EAAAA,GAAc,YAAtCC,WACYC,GAAUF,EAAAA,EAAAA,GAAc,YAApCC,UACR,GAA8BE,EAAAA,EAAAA,KAATC,GAAF,EAAXC,YAAiB,EAAJD,MACrB,GAAsBxE,EAAAA,EAAAA,UAAS,IAAG,eAA7BC,EAAI,KAAEC,EAAO,KACbwE,GAAOC,EAAAA,EAAAA,MAAPD,IACL,GAAsB1E,EAAAA,EAAAA,UAAS,IAAG,eAA7BsB,EAAI,KAAEsD,EAAO,KAClB,GAAwB5E,EAAAA,EAAAA,WAAS,GAAM,eAAlC6E,EAAK,KAAEC,EAAQ,KAChBpC,GAAWC,EAAAA,EAAAA,MACXjD,GAAWE,EAAAA,EAAAA,MACTmF,GAAYjF,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMiF,WAAWD,SAAS,IAC7DE,GAAYnF,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMmF,UAAUD,SAAS,IAC5DE,GAAY,IAAIC,MAAOC,cACvBxF,GAAgBC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMF,aAAa,IAG1DyF,EAAS,WACb7E,OAAOqC,SAAS,CAAEC,IAAK,EAAGC,SAAU,WACpCvC,OAAO8E,QAAQC,MACjB,EAQM5C,EAAY,SAACC,GACjBH,EAAS,YAAD,OAAaG,IALrBpC,OAAOqC,SAAS,CAAEC,IAAK,EAAGC,SAAU,WASpCvC,OAAOwC,SAASC,QAClB,EAkKA,OAhKA1C,EAAAA,EAAAA,YAAU,WAER,IAAIiF,EAAQC,YAAW,WAAOxF,EAAQ,iBAAiB,GAAG,KAI1D,OAAO,WACLyF,aAAaF,GACbvF,EAAQ,IACR4E,GAAS,EAEX,CACF,GAAE,KAEFtE,EAAAA,EAAAA,YAAU,WAERoE,EAAe,OAAPT,QAAO,IAAPA,OAAO,EAAPA,EAASyB,QAAO,SAACtC,EAAEC,GAAC,OAAID,EAAE7B,KAAOiD,CAAG,IAC9C,GAAG,CAACP,KAEJ3D,EAAAA,EAAAA,YAAU,gBAEAqF,GAARvE,GAAqC,IAAhBA,EAAKsC,OAAekB,GAAS,GAAQA,GAAS,EACrE,GAAG,CAACxD,IA2IFuD,GACA,iCACA,iBAAK5D,UAAS,qCAAgChB,GAAO,WACnD,oBAASgB,UAAS,gCAA2BhB,GAAO,UAClD,iBAAKgB,UAAU,YAAW,WAGxB,iBAAKA,UAAU,iBAAgB,WAC7B,iBAAKA,UAAU,mBAAmBkB,QAAS,kBAAIS,EAAUtB,EAAK,GAAGlB,IAAI,EAAC,WACpE,gBAAKa,UAAU,yBAAwB,UACrC,gBAAK4C,IAAKvC,EAAK,GAAGwC,aAAcC,IAAI,sCAEtC,iBAAM9C,UAAU,eAAc,SAAEK,EAAK,GAAGnB,iBAIxCN,EAAcO,MAAQkB,EAAK,GAAGlB,KAC5B,gBAAKa,UAAU,kBAAiB,UAC9B,SAAC6E,EAAS,CAAC3D,QA5FR,WACb4D,QAAQ,0EAIV7B,EAAe5C,EAAK,GAAGG,IACvBuE,MAAM,4DACNV,IAEJ,MAsFc,SAKN,gBAAKrE,UAAU,WAAU,UACvB,gBAAKA,UAAU,cAAa,SAGxBK,EAAK,GAAG2E,YAAYC,SAAS,QAAU5E,EAAK,GAAG2E,YAAYC,SAAS,QAAU5E,EAAK,GAAG2E,YAAYC,SAAS,QAEzG,kBAAOrC,IAAKvC,EAAK,GAAG2E,YAAY,WAAYE,UAAQ,KAEpD,gBAAKtC,IAAKvC,EAAK,GAAG2E,YAAalC,IAAI,wCAM3C,iBAAK9C,UAAU,qBAAoB,WACjC,iBAAKA,UAAU,iBAAgB,WAC7B,mBAAQA,UAAU,WAAWkB,QAAS,SAACxB,GAErC,IAAIyF,EAAQ9E,EAAK,GAAG8E,MAEhBC,EAAU/E,EAAK,GAAG8B,cAAc8C,SAAS1B,EAAKE,KAE9CtB,GAAa,OAAO9B,EAAK,GAAG8B,eAC5BA,EAAc8C,SAAS1B,EAAKE,KAC9BtB,EAAgBA,EAAcwC,QAAO,SAAAtC,GAAC,OAAIA,GAAKkB,EAAKE,GAAG,IAEvDtB,EAAc5B,KAAKgD,EAAKE,KAGtB2B,EACFxF,QAAQC,IAAI,mCAEZD,QAAQC,IAAI,sBAOVuF,GACFD,IACA3G,EAAa,CAAE2D,cAAAA,EAAegD,MAAAA,GAAS9E,EAAK,GAAGG,MAE/C2E,IACA3G,EAAa,CAAE2D,cAAAA,EAAegD,MAAAA,GAAS9E,EAAK,GAAGG,IAEnD,EAAE,UA7MSwC,EA+MM3C,EAAK,GAAG8B,cAAc8C,SAAS1B,EAAKE,KA9M3DT,GAEA,gBAAK,aAAW,kCAASqC,MAAM,UAAUhE,KAAK,UACxCiE,OAAO,KAAKC,KAAK,MAAMpE,QAAQ,YAAYqE,MAAM,KAAI,UACnD,iBAAMlE,EAAE,qSAWhB,gBAAK,aAAW,qBAAM+D,MAAM,UAAUhE,KAAK,UACrCiE,OAAO,KAAKC,KAAK,MAAMpE,QAAQ,YAAYqE,MAAM,KAAI,UACnD,iBAAMlE,EAAE,8oBAgMV,mBAAQtB,UAAU,YAAYkB,QAAS,SAACxB,GACtCjB,GAASsB,EAAAA,EAAAA,IAAa,GACxB,EAAE,UACA,gBAAK,aAAW,2BAAOsF,MAAM,UAAUhE,KAAK,UAC5CiE,OAAO,KAAKC,KAAK,MAAMpE,QAAQ,YAAYqE,MAAM,KAAI,UACnD,iBAAMlE,EAAE,oDAAoDD,KAAK,OACjEoE,OAAO,eAAeC,eAAe,QAAQC,YAAY,WAK7D,mBAAQ3F,UAAU,YAAYkB,QAAS,YAnIhC,SAACb,GAElB,GAAGyE,QAAQ,oFAAmB,CAE5Bc,MAAMC,MAAMC,YAAY,CACtBC,WAAY,OACZC,QAAS,CACPC,MAAO5F,EAAKnB,YACZgH,YAAa7F,EAAK8F,SAAS,KAAK9F,EAAK+F,YACrCC,SACEhG,EAAK2E,YAAYC,SAAS,QAAU5E,EAAK2E,YAAYC,SAAS,QAAU5E,EAAK2E,YAAYC,SAAS,OAChG,8JAGA5E,EAAK2E,YACTsB,KAAM,CACJC,aAAc/G,OAAOwC,SAASwE,KAC9BC,OAAQjH,OAAOwC,SAASwE,OAG5BE,OAAQ,CACNC,UAAWtG,EAAK8E,MAChByB,aAAcvG,EAAKC,QACnBuG,YAAaxG,EAAKyG,QAEpBC,QAAS,CACP,CACEd,MAAO,2BACPK,KAAM,CACJC,aAAc/G,OAAOwC,SAASwE,KAC9BC,OAAQjH,OAAOwC,SAASwE,UAOhC,IAAIM,EAASzG,EAAKyG,OAAS,EAC3BtI,EAAa,CAAEsI,OAAAA,GAAUzG,EAAKG,GAChC,CACF,CA4FcwG,CAAW3G,EAAK,GAClB,EAAE,UACA,iBAAK,aAAW,qBAAMgF,MAAM,UAAUhE,KAAK,UAC3CiE,OAAO,KAAKC,KAAK,MAAMpE,QAAQ,YAAYqE,MAAM,KAAI,WACnD,iBAAMnE,KAAK,OAAOoE,OAAO,eAAeC,eAAe,QACrDC,YAAY,IAAIsB,GAAG,KAAKC,GAAG,QAAQC,GAAG,IAAIC,GAAG,YAE/C,oBAAS/F,KAAK,OAAOgG,OAAO,4DAC5B5B,OAAO,eAAeC,eAAe,QAAQC,YAAY,eAO/D,gBAAK3F,UAAU,eAAc,UAC3B,mBAAQA,UAAU,WAAWkB,QAAS,SAACxB,GAErC,IAAI4H,EAAUjH,EAAK,GAAGkH,cAActC,SAAS1B,EAAKE,KAE9C8D,GAAa,OAAOlH,EAAK,GAAGkH,eAC5BA,EAActC,SAAS1B,EAAKE,KAC9B8D,EAAgBA,EAAc5C,QAAO,SAAAtC,GAAC,OAAIA,GAAKkB,EAAKE,GAAG,IAEvD8D,EAAchH,KAAKgD,EAAKE,KAGtB6D,EACFvC,MAAM,2FAENA,MAAM,qFAQNvG,EAAa,CAAE+I,cAAAA,GAAiBlH,EAAK,GAAGG,GAI5C,EAAE,UArOSuC,EAuOM1C,EAAK,GAAGkH,cAActC,SAAS1B,EAAKE,KAtO3DV,GAEA,gBAAK,aAAW,4BAAQsC,MAAM,UAAUhE,KAAK,UAC3CiE,OAAO,KAAKC,KAAK,MAAMpE,QAAQ,YAAYqE,MAAM,KAAI,UACrD,oBAAS6B,OAAO,qCACd5B,OAAO,eAAe+B,cAAc,QAAQ9B,eAAe,QAAQC,YAAY,SAOnF,gBAAK,aAAW,eAAKN,MAAM,UAAUhE,KAAK,UACxCiE,OAAO,KAAKC,KAAK,MAAMpE,QAAQ,YAAYqE,MAAM,KAAI,UACrD,oBAASnE,KAAK,OAAOgG,OAAO,qCAC1B5B,OAAO,eAAe+B,cAAc,QAAQ9B,eAAe,QAAQC,YAAY,iBA6NjF,gBAAK3F,UAAU,iBAAgB,UAC7B,cAAGA,UAAU,kBAAkBkB,QAAS,WACtCzC,GAASiE,EAAAA,EAAAA,IAAa,GACxB,EAAE,UACA,uBAAIrC,EAAK,GAAG8E,YAMdnB,GACA,SAAC,EAAU,CAACzB,MAAOc,EAAOlB,cAAe9B,EAAK,GAAG8B,gBAC/C,MAIJ,gBAAKnC,UAAU,iBAAgB,UAC7B,iBAAKA,UAAU,YAAW,WACxB,gBAAKA,UAAU,mBAAmBkB,QAAS,WAAKS,EAAUtB,EAAK,GAAGlB,IAAI,EAAE,UACtE,uBAAIkB,EAAK,GAAGnB,iBAEd,gBAAKc,UAAU,qBAAoB,SAChCK,EAAK,GAAG8F,gBAOb9F,EAAK,GAAGC,QAAU,GAElB,iCAEE,gBAAKN,UAAU,uBAEf,gBAAKA,UAAU,kBAAiB,SAE5BK,EAAK,GAAGD,eAAegC,KAAI,SAACC,EAAEC,GAC5B,OACE,+BACE,iBAAKtC,UAAU,sBAAqB,WAClC,iBAAKA,UAAU,aAAY,WACzB,iBAAMA,UAAU,sBAAsBkB,QAAS,WAAKS,EAAUU,EAAElD,IAAI,EAAE,UACpE,uBAAIkD,EAAEnD,iBAER,iBAAMc,UAAU,kBAAiB,SAC9BqC,EAAEjD,eAMLR,EAAcO,MAAQkB,EAAK,GAAGlB,KAC5B,gBAAKa,UAAU,mBAAkB,UAC/B,SAACyH,EAAc,CAACvG,QAAS,YA/PnC,SAACwG,GACnB,GAAI5C,QAAQ,yEAAmB,CAG7B,IAAI1E,GAAc,OAAOC,EAAK,GAAGD,gBAI7BE,GADJF,EAAiBA,EAAeuE,QAAO,SAAC/C,GAAG,OAAGA,EAAIzC,IAAIyC,EAAIxC,YAAcsI,EAAMvI,IAAIuI,EAAMtI,SAAS,KACpEuD,OAM7BnE,EAAa,CAAE4B,eAAAA,EAAgBE,QAAAA,GAAWD,EAAK,GAAGG,GACpD,CACF,CA+O4DmH,CAAYtF,EAAE,KADPA,EAAElD,KAIzC,OAjBoCkD,EAAElD,MAsBlD,SAKJ,MAIJ,gBAAKa,UAAU,YAAW,SAGtBkE,IAAiD,EAAnC7D,EAAK,GAAG+F,YAAYwB,UAAU,EAAE,GAC5CvH,EAAK,GAAG+F,YAAYwB,UAAU,EAAE,GAAK,UAAOvH,EAAK,GAAG+F,YAAYwB,UAAU,EAAE,IAAM,UAAOvH,EAAK,GAAG+F,YAAYwB,UAAU,IACvHvH,EAAK,GAAG+F,YAAYwB,UAAU,EAAE,GAAG,UAAOvH,EAAK,GAAG+F,YAAYwB,UAAU,EAAE,GAAK,UAAOvH,EAAK,GAAG+F,YAAYwB,UAAU,EAAE,IAAM,UAAOvH,EAAK,GAAG+F,YAAYwB,UAAU,YAM3K,gBAAK5H,UAAU,kBAAiB,UAC9B,mBAAQA,UAAU,cAAckB,QAASmD,EAAO,SAAC,kCAQnDP,GACA,SAAC,EAAU,CAACzD,KAAMA,EAAK,KACrB,QAKF,IAEN,EAIMwE,EAAY,SAACvG,GAAK,OACtB,iCACE8C,MAAM,6BACND,QAAQ,YACRE,KAAK,OACLoE,OAAO,UACPE,YAAa,IACb6B,cAAc,QACd9B,eAAe,SACXpH,GAAK,eAET,qBAAU+I,OAAO,kBACjB,iBAAM7G,GAAG,kBAAkBc,EAAE,gFACzB,EAGFmG,EAAiB,SAACnJ,GAAK,OAC3B,gCACE6C,QAAQ,YACRC,MAAM,6BACNC,KAAK,QACD/C,GAAK,cAET,iBACEkC,GAAG,mBACHqH,QAAS,GACTpC,OAAO,UACP+B,cAAc,QACd9B,eAAe,QACfC,YAAa,IACbrE,EAAE,2CAEA,C,wICvcR,SAASwG,IAAsD,IAAzCC,EAAO,UAAD,6CAAC,GAAGC,EAAS,UAAD,6CAAC,EAAEC,EAAO,UAAD,6CAAC,EAAEC,EAAQ,UAAD,6CAAC,EACpDC,EAAO,IAAIhE,KACXiE,EAAOD,EAAK/D,cACZiE,EAAQF,EAAKG,WACbC,EAAMJ,EAAKK,UACXC,EAAON,EAAKO,WACZC,EAAMR,EAAKS,aACXC,EAAeV,EAAKW,kBASxB,OAPc,IAAXd,GAAcG,EAAKY,SAAUZ,EAAKG,WAAWN,GACpC,IAATC,GAAYE,EAAKa,QAASb,EAAKK,UAAUP,GAClC,IAAPG,GAAUD,EAAKc,YAAad,EAAK/D,cAAc8D,GAElDG,GAAS,KAAO,EAAIF,EAAKG,aAAaY,OAAO,GAC7CX,GAAO,IAAMJ,EAAKK,WAAWU,OAAO,IACpCd,EAAOD,EAAK/D,eACA2D,EAAOM,EAAMN,EAAOQ,EAAIE,EAAKE,EAAIE,CACjD,CAOA,SAASM,EAAcC,EAAWC,GAC9B,OAGJ,WAA0D,IAArCD,EAAW,UAAD,6CAAC,IAAIC,EAAW,UAAD,6CAAC,IAAIlB,EAAI,uCAE/CC,EAAOD,EAAK/D,cACZiE,EAAQF,EAAKG,WAAa,EAC1BC,EAAMJ,EAAKK,UACXC,EAAON,EAAKO,WACZC,EAAMR,EAAKS,aAEa,KAAvB,GAAKP,GAAO1F,SACb0F,EAAQ,IAAMA,GAEQ,KAArB,GAAKE,GAAK5F,SACX4F,EAAM,IAAMA,GAEW,KAAtB,GAAKE,GAAM9F,SACZ8F,EAAO,IAAMA,GAES,KAArB,GAAKE,GAAKhG,SACXgG,EAAM,IAAMA,GAGhB,MAAQ,GAAKP,EAAMgB,EAAaf,EAAOe,EAAab,EAAK,IAAME,EAAMY,EAAaV,CACtF,CAzBWW,CAAWF,EAAWC,EAAW,IAAIlF,KAChD,CCtCA,IAAMoF,EAAY,CACdC,SAAU,KACVC,WAAW,EACXC,MAAO,KACPC,SAAS,GAIPC,EAAe,SAAC9K,EAAO+K,GAEzB,OAAQA,EAAOnJ,MACX,IAAK,YACD,MAAO,CAAE+I,WAAW,EAAMD,SAAU,KAAiBG,SAAS,EAAOD,MAAO,MAChF,IAAK,SAEL,IAAK,UAEL,IAAK,YACD,MAAO,CAAED,WAAW,EAAOD,SAAUK,EAAOC,QAASH,SAAS,EAAOD,MAAO,MAChF,IAAK,QACD,MAAO,CAAED,WAAW,EAAOD,SAAU,KAAgBG,SAAS,EAAOD,MAAOG,EAAOC,SACvF,QACI,OAAOhL,EAEnB,EAGaP,EAAe,SAACwL,GAIzB,OAA6BC,EAAAA,EAAAA,YAAWJ,EAAcL,GAAU,eAAzD7K,EAAQ,KAAED,EAAQ,KACzB,GAA4BM,EAAAA,EAAAA,UAAS,IAAG,eAGlCkL,GAHO,KAAW,MAGTC,EAAAA,EAAAA,IAAWC,EAAAA,GAAcJ,IAIlCK,EAAW,yCAAG,WAAOC,EAAIC,GAAG,oFAGxBC,EAAcC,EAAAA,GAAAA,SAAmB,IAAIrG,MACrCiC,EAAc+C,EAAc,IAAI,KAGhCsB,EAAa3C,IAGb4C,GAAaC,EAAAA,EAAAA,IAAIC,EAAAA,GAAS,UAAUN,EAAI3J,MACxCkK,GAAaC,EAAAA,EAAAA,IAAqBJ,EAAYJ,GAGpD7L,EAAS,CAAEiC,KAAM,cACjB,IAMImK,EAAWE,GAAG,iBACd,SAACC,GAED,IACA,SAACtB,GACG9J,QAAQ8J,MAAM,oCAAcA,EAChC,IACA,YACEuB,EAAAA,EAAAA,IAAeJ,EAAWG,SAASL,KAAKlK,MAAK,SAACuE,GAE5CpF,QAAQC,IAAI,0CAAemF,GAM3B,IAAMkG,GAASC,EAAAA,EAAAA,IAAOlB,GAAO,kBAAKI,GAAG,IAAEE,YAAAA,EAAanE,YAAAA,EAAYqE,WAAAA,EAAYzF,YAAAA,KAC5EpF,QAAQC,IAAIqL,GAEZzM,EAAS,CAAEiC,KAAM,SAAUoJ,QAASoB,IACpCtL,QAAQC,IAAI,2BACd,GACF,GAKJ,CAFE,MAAO6J,GACLjL,EAAS,CAAEiC,KAAM,QAASoJ,QAASJ,EAAM0B,SAC7C,CAAC,2CAEJ,gBAlDgB,wCAsDXC,EAAU,yCAAG,WAAOhB,GAAG,kFAGnBE,EAAcC,EAAAA,GAAAA,SAAmB,IAAIrG,MACrCiC,EAAc+C,EAAc,IAAI,KAGhCsB,EAAa3C,IAGnBrJ,EAAS,CAAEiC,KAAM,cACjB,IAOcwK,GAASC,EAAAA,EAAAA,IAAOlB,GAAO,kBAAKI,GAAG,IAAEE,YAAAA,EAAanE,YAAAA,EAAYqE,WAAAA,KAChE7K,QAAQC,IAAIqL,GAEZzM,EAAS,CAAEiC,KAAM,SAAUoJ,QAASoB,IACpCtL,QAAQC,IAAI,2BAKpB,CAFE,MAAO6J,GACLjL,EAAS,CAAEiC,KAAM,QAASoJ,QAASJ,EAAM0B,SAC7C,CAAC,2CAEJ,gBA7Be,sCAiCV5M,EAAY,yCAAG,WAAO4E,EAAU5C,GAAE,4EAGpC,OAFA/B,EAAS,CAAEiC,KAAM,cAEjB,mBAUyB4K,EAAAA,EAAAA,KAAUjB,EAAAA,EAAAA,IAAIJ,EAAOzJ,IAAI,UAAK4C,IAAY,KAAD,EAAxD8H,EAAM,OACZzM,EAAS,CAAEiC,KAAM,UAAWoJ,QAASoB,IAAU,gDAG/CzM,EAAS,CAAEiC,KAAM,QAASoJ,QAAS,KAAMsB,UAAW,yDAE3D,gBAnBiB,wCAuBZnI,EAAc,yCAAG,WAAOzC,GAAE,4EAEI,OAAhC/B,EAAS,CAAEiC,KAAM,cAAe,mBAEP6K,EAAAA,EAAAA,KAAUlB,EAAAA,EAAAA,IAAIJ,EAAOzJ,IAAK,KAAD,EAAxC0K,EAAM,OACZzM,EAAS,CAAEiC,KAAM,YAAaoJ,QAASoB,IAAU,gDAEjDzM,EAAS,CAAEiC,KAAM,QAASoJ,QAAS,KAAMsB,UAAW,yDAE3D,gBATmB,sCAadI,EAAO,yCAAG,WAAOnB,GAAG,kFAGhBE,EAAcC,EAAAA,GAAAA,SAAmB,IAAIrG,MACrCiC,EAAc+C,EAAc,IAAI,KAGhCsB,EAAa3C,IAGnBrJ,EAAS,CAAEiC,KAAM,cACjB,IAOUwK,GAASC,EAAAA,EAAAA,IAAOlB,GAAO,kBAAKI,GAAG,IAAEE,YAAAA,EAAanE,YAAAA,EAAYqE,WAAAA,KAChE7K,QAAQC,IAAIqL,GAEZzM,EAAS,CAAEiC,KAAM,SAAUoJ,QAASoB,IACpCtL,QAAQC,IAAI,2BAIhB,CAFE,MAAO6J,GACLjL,EAAS,CAAEiC,KAAM,QAASoJ,QAASJ,EAAM0B,SAC7C,CAAC,2CAEJ,gBA5BY,sCA8Bb,MAAO,CAAEhB,YAAAA,EAAaiB,WAAAA,EAAY7M,aAAAA,EAAcyE,eAAAA,EAAgBuI,QAAAA,EAAS9M,SAAAA,EAE7E,C","sources":["components/ReplyInput.js","components/LikeDetail.js","components/Detail.js","utils/DateUtil.js","hooks/useFirestore.js"],"sourcesContent":["/*eslint-disable */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useFirestore } from \"../hooks/useFirestore\";\r\nimport { setRmVisible } from \"../store/replySlice\";\r\n\r\n\r\nfunction ReplyInput(props) {\r\n    const { editDocument, response } = useFirestore(\"FeedData\");// ì»¬ë ‰ì…˜ ì´ë¦„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì£¼ê¸°\r\n    let dispatch = useDispatch()\r\n    const loginUserInfo = useSelector((state) => state.loginUserInfo) // ë¡œê·¸ì¸ ìœ ì € ì •ë³´, (Input.js ì—ì„œ ì´ˆê¸° ì…‹íŒ…)\r\n    let [fade, setFade] = useState('') // Animation Style State\r\n    let [newReply, setNewReply] = useState({\r\n        displayName: loginUserInfo.displayName,\r\n        UID: loginUserInfo.UID,\r\n        replyText: '',\r\n    }); // ë¡œê·¸ì¸í•œ loginUserInfo ì—ì„œ ë°›ì•„ì˜¨ displayName, UID ë¡œ ë°•ì•„ë†“ëŠ”ë‹¤ ( displayNameì˜ ê²½ìš°, user ì—ì„œëŠ” ì´ˆê¸°ê°’ìœ¼ë¡œ ë“¤ì–´ê°€ ìˆì–´ì„œ ë‹¤ë¦„ )\r\n\r\n    const { displayName, replyText } = newReply; // êµ¬ì¡°ë¶„í•´ í• ë‹¹ --> ê°’ ì¶”ì¶œ\r\n\r\n    const onChange = (e) => {\r\n        const { value, name } = e.target; // ìš°ì„  e.target ì—ì„œ name ê³¼ value ë¥¼ ì¶”ì¶œ\r\n        setNewReply({\r\n          ...newReply, // ê¸°ì¡´ì˜ input ê°ì²´ë¥¼ ë³µì‚¬í•œ ë’¤\r\n          [name]: value // name í‚¤ë¥¼ ê°€ì§„ ê°’ì„ value ë¡œ ì„¤ì •\r\n        });\r\n    };\r\n\r\n    \r\n    // í¼ì´ ì œì¶œë˜ë©´ ì‹¤í–‰ [ëŒ“ê¸€ ë“±ë¡]\r\n    const onSubmit = (e) => {\r\n        e.preventDefault(); // submitì‹œ í˜ì´ì§€ reload ë°©ì§€\r\n        let addReply = newReply // ì‹ ê·œ ì¶”ê°€ ëŒ“ê¸€\r\n        let peopleWhoReply = props.post.peopleWhoReply // ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸\r\n        let replies = props.post.replies // ëŒ“ê¸€ ìˆ˜\r\n\r\n        // console.log(\"ì‹ ê·œ ëŒ“ê¸€ --> \",addReply)\r\n        // ê¸°ì¡´ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ì— ë°€ì–´ë„£ì\r\n        peopleWhoReply.push(addReply)\r\n\r\n        //=========================================================\r\n        // ìˆ˜ì • firebase íƒœìš°ê¸°, ë³€ê²½í•˜ëŠ” í•„ë“œë¥¼ ê°ì²´ í˜•ì‹ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤\r\n        //=========================================================\r\n        replies++; // ëŒ“ê¸€ ìˆ˜ +1\r\n        editDocument({ peopleWhoReply, replies }, props.post.id)\r\n        .then(()=>{\r\n            // ëª¨ë‹¬ ë„ê³ \r\n            dispatch(setRmVisible(false))\r\n        })\r\n    }\r\n\r\n    // ì´ˆê¸° mount ì‹œ\r\n    useEffect(()=>{\r\n        setFade('transition-end')\r\n    },[])\r\n\r\n    // Escë¡œ ëª¨ë‹¬ ë„ê¸°\r\n    window.onkeydown = (e) => {\r\n        if(e.key === 'Escape') {\r\n            console.log('ê¾¸')\r\n        }\r\n    }\r\n    window.onkeyup = (e) => { \r\n        if(e.key === 'Escape') {\r\n            console.log('ìš±')\r\n            dispatch(setRmVisible(false))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* ë’¤ì— ìš”ì†Œë“¤ ë®ì–´ì„œ ëª¨ë‹¬ë§Œ ë³´ì´ê²Œ */}\r\n            <div className={`dimmed-layer ${fade}`}/>\r\n\r\n            <div className={`input-area transition-start ${fade}`}>\r\n                <div className=\"form-container\">\r\n                    <form onSubmit={onSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"text\" name=\"replyText\" value={replyText} onChange={onChange} className=\"form-control reply-text-input\" placeholder=\"ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”!\" required/>\r\n                        </div>\r\n                        <input type=\"submit\" className=\"post-btn\" value=\"ëŒ“ê¸€ ë‹¬ê¸°\"/>\r\n                        <div className=\"close-btn\">\r\n                            <CloseBtn onClick={(e)=>{\r\n                                e.preventDefault()\r\n                                dispatch(setRmVisible(false))\r\n                            }}/>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ReplyInput;\r\n\r\n\r\nconst CloseBtn = (props) => (\r\n    <svg\r\n        // width=\"800px\"\r\n        // height=\"800px\"\r\n        viewBox=\"0 0 16 16\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fill=\"none\"\r\n        {...props}\r\n    >\r\n    <title>{\"close\"}</title>\r\n    <path\r\n      fill=\"#FFFFFF\"\r\n      d=\"M12.78 4.28a.75.75 0 00-1.06-1.06L8 6.94 4.28 3.22a.75.75 0 00-1.06 1.06L6.94 8l-3.72 3.72a.75.75 0 101.06 1.06L8 9.06l3.72 3.72a.75.75 0 101.06-1.06L9.06 8l3.72-3.72z\"\r\n    />\r\n  </svg>\r\n);","/*eslint-disable */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setLmVisible } from \"../store/likeSlice\"; \r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction LikeDetail(props) {\r\n    let [fade, setFade] = useState('') // Animation Style State\r\n    let [likeList, setLikeList] = useState([]); // í•„í„°ë§í•œ ì •ë³´ë¥¼ ì—¬ê¸°ì— ë‹´ì•„ì¤€ë‹¤ --> ì¢‹ì•„ìš” ë¦¬ìŠ¤íŠ¸\r\n    let dispatch = useDispatch()\r\n    let navigate = useNavigate()\r\n\r\n    // ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™\r\n    const scrollTop = () => {\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    }\r\n\r\n    // í”„ë¡œí•„ í˜ì´ì§€ ì´ë™\r\n    const goProfile = (val) => {\r\n        navigate(`/profile/${val}`)\r\n        scrollTop()\r\n        \r\n        // **ìƒˆë¡œê³ ì¹¨ í•´ë²„ë¦¬ì**\r\n        window.location.reload();\r\n    }\r\n\r\n    // ì´ˆê¸° mount ì‹œ\r\n    useEffect(()=>{\r\n        setFade('transition-end')\r\n\r\n        let likePeople = []\r\n        props.peopleWhoLike.map((a,i)=>{\r\n            props.users.forEach((el) => {\r\n                if (el.UID === a) {\r\n                    likePeople.push(el);   \r\n                }\r\n            });\r\n        })\r\n        // console.log(\"ì¢‹ì•„ìš” ìƒì„¸ ë¦¬ìŠ¤íŠ¸ --> \",likePeople);\r\n\r\n        setLikeList(likePeople); // í•„í„°ë§í•œ ì •ë³´ë¡œ state ì…‹íŒ…\r\n    },[])\r\n\r\n    // Escë¡œ ëª¨ë‹¬ ë„ê¸°\r\n    window.onkeydown = (e) => {\r\n        if(e.key === 'Escape') {\r\n            console.log('ë˜')\r\n        }\r\n    }\r\n    window.onkeyup = (e) => { \r\n        if(e.key === 'Escape') {\r\n            console.log('ì‰')\r\n            dispatch(setLmVisible(false))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* ë’¤ì— ìš”ì†Œë“¤ ë®ì–´ì„œ ëª¨ë‹¬ë§Œ ë³´ì´ê²Œ */}\r\n            <div className={`dimmed-layer-detail ${fade}`} onClick={()=>{dispatch(setLmVisible(false))}}/>\r\n            <div className={`like-detail-area transition-start ${fade}`}>\r\n                <div className=\"like-detail-container\">\r\n                    <h3 className=\"like-detail-header\">ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒë“¤</h3>\r\n                    {\r\n                        likeList.length !== 0 ?\r\n                            likeList.map((a,i)=>{\r\n                                return (\r\n                                    <div className=\"like-user-info\" key={a.UID} onClick={()=>{goProfile(a.UID)}}>\r\n                                        <div className=\"like-user-profileImage\">\r\n                                            <img src={a.profileImage} alt=\"í”„ë¡œí•„ì‚¬ì§„\"/>\r\n                                        </div>\r\n                                        <span className=\"like-user-name\">{a.displayName}</span>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        : \r\n                            <>\r\n                                <h3 className=\"like-no-user-text\">ì•„ì§ ì¢‹ì•„ìš”ê°€ ì—†ì–´ìš” ğŸ˜¥</h3>\r\n                                <h4 className=\"like-no-user-text-small\">ì²« ì¢‹ì•„ìš”ë¥¼ ëˆŒëŸ¬ë³¼ê¹Œìš”?</h4>\r\n                            </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default LikeDetail;","/*eslint-disable */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useFirestore } from \"../hooks/useFirestore\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\nimport { useCollection } from '../hooks/useCollection';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ReplyInput from \"./ReplyInput\";\r\nimport { setRmVisible } from \"../store/replySlice\";\r\nimport { setLmVisible } from \"../store/likeSlice\";\r\nimport LikeDetail from \"./LikeDetail\";\r\n\r\nfunction Detail(props) {\r\n  const { editDocument, deleteDocument, response } = useFirestore(\"FeedData\");// ì»¬ë ‰ì…˜ ì´ë¦„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì£¼ê¸°\r\n  const { documents : AllFeed } = useCollection(\"FeedData\"); // ì „ì²´ ê²Œì‹œê¸€ ë°ì´í„°\r\n  const { documents : Users } = useCollection(\"UserData\"); // ì „ì²´ ìœ ì € ë°ì´í„° ( ì¢‹ì•„ìš” ìƒì„¸ì— propsë¡œ ì „ì†¡ )\r\n  const { isAuthReady, user } = useAuthContext();\r\n  let [fade, setFade] = useState('') // Animation Style State\r\n  let {uid} = useParams() // ê²Œì‹œë¬¼ id í‚¤ê°’ (URL íŒŒë¼ë¯¸í„°)\r\n  let [post, setPost] = useState([]) // ë°ì´í„° ë°”ì¸ë”©í•  ìƒì„¸ ì •ë³´ State\r\n  let [ready, setReady] = useState(false)\r\n  let navigate = useNavigate() // í˜ì´ì§€ ì´ë™\r\n  let dispatch = useDispatch()\r\n  const rmVisible = useSelector((state) => state.replyState.rmVisible) // ëŒ“ê¸€ ëª¨ë‹¬ í‘œì‹œ ì—¬ë¶€ ( reply modal )\r\n  const lmVisible = useSelector((state) => state.likeState.lmVisible) // ì¢‹ì•„ìš” ìƒì„¸ ëª¨ë‹¬ ì—¬ë¶€\r\n  const THIS_YEAR = new Date().getFullYear(); // í˜„ì¬ ë…„ë„\r\n  const loginUserInfo = useSelector((state) => state.loginUserInfo) // ë¡œê·¸ì¸ ìœ ì € ì •ë³´, (Input.js ì—ì„œ ì´ˆê¸° ì…‹íŒ…)\r\n\r\n  // ë’¤ë¡œê°€ê¸° + ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™\r\n  const goBack = () => {\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    window.history.back() // ë’¤ë¡œê°€ê¸°\r\n  }\r\n\r\n  // ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™\r\n  const scrollTop = () => {\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  }\r\n\r\n  // í”„ë¡œí•„ í˜ì´ì§€ ì´ë™\r\n  const goProfile = (val) => {\r\n    navigate(`/profile/${val}`)\r\n    scrollTop()\r\n    \r\n    // **ìƒˆë¡œê³ ì¹¨ í•´ë²„ë¦¬ì**\r\n    window.location.reload();\r\n  }\r\n\r\n  useEffect(()=>{\r\n    // Automatic batching ë•Œë¬¸ì— íƒ€ì´ë¨¸ ì¤€ë‹¤\r\n    let timer = setTimeout(() => {setFade('transition-end')}, 100)\r\n    // document.body.style.overflow = 'hidden' // ìŠ¤í¬ë¡¤ ì œê±° ( í•˜ë ¤í–ˆëŠ”ë° ì‚¬ì§„ í¬ê¸° ë•Œë¬¸ì— í•„ìš”í•  ìˆ˜ë„.. ì¼ë‹¨ ë³´ë¥˜ )\r\n\r\n    // cleanUp Func\r\n    return () => {\r\n      clearTimeout(timer)\r\n      setFade('')\r\n      setReady(false)\r\n      // document.body.style.overflow = ''\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    // AllFeed ë°›ì•„ì˜¤ë©´ a.idê°€ ê°™ì€ ê²ƒì„ post ì— ë‹´ì•„ì£¼ê¸°\r\n    setPost(AllFeed?.filter((a,i)=> a.id === uid))\r\n  }, [AllFeed])\r\n\r\n  useEffect(()=>{\r\n    // ë°ì´í„° ë°›ì•„ì˜¤ëŠ” ê³¼ì •ì—ì„œ undefined ë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ ì˜ˆì™¸ì²˜ë¦¬ í•´ì¤¬ë‹¤..\r\n    post != undefined && post.length !== 0 ? setReady(true) : setReady(false)\r\n  }, [post])\r\n\r\n\r\n  //============================================== \r\n  // ì¢‹ì•„ìš” ëˆŒë¦° ìƒíƒœì— ë”°ë¥¸ ë²„íŠ¼ ì´ë¯¸ì§€ ë°˜í™˜\r\n  //============================================== \r\n  const getLikeStatus = (likeYN) => {\r\n    if (likeYN) {\r\n      return (\r\n        <svg aria-label=\"ì¢‹ì•„ìš” ì·¨ì†Œ\" color=\"#ed4956\" fill=\"#ed4956\"\r\n              height=\"24\" role=\"img\" viewBox=\"0 0 48 48\" width=\"24\">\r\n                <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 \r\n                 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 \r\n                 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 \r\n                 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 \r\n                 25 48 17.6c0-8-6-14.5-13.4-14.5z\">\r\n                </path>\r\n        </svg>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <svg aria-label=\"ì¢‹ì•„ìš”\" color=\"#262626\" fill=\"#262626\"\r\n              height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                <path d=\"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197\r\n                  7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141\r\n                  14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675\r\n                    1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04\r\n                    6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61\r\n                      2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018\r\n                      2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774\r\n                        2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z\">\r\n                </path>\r\n        </svg>\r\n      )\r\n    }\r\n  }\r\n\r\n  //============================================== \r\n  // ì €ì¥ ìƒíƒœì— ë”°ë¥¸ ë²„íŠ¼ ì´ë¯¸ì§€ ë°˜í™˜\r\n  //============================================== \r\n  const getSaveStatus = (saveYn) => {\r\n    if (saveYn) {\r\n      return (\r\n        <svg aria-label=\"ì €ì¥ ì·¨ì†Œ\" color=\"#262626\" fill=\"#262626\"\r\n          height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\r\n          <polygon points=\"20 21 12 13.44 4 21 4 3 20 3 20 21\"\r\n            stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n          </polygon>\r\n        </svg>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <svg aria-label=\"ì €ì¥\" color=\"#262626\" fill=\"#262626\"\r\n          height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\r\n          <polygon fill=\"none\" points=\"20 21 12 13.44 4 21 4 3 20 3 20 21\"\r\n            stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n          </polygon>\r\n        </svg>\r\n      )\r\n    }\r\n  }\r\n\r\n  // ê²Œì‹œë¬¼ ì‚­ì œ\r\n  const postDelete = () => {\r\n    if (confirm(\"ê²Œì‹œë¬¼ì„ ì‚­ì œí•˜ì‹œê² ì–´ìš”?\")) {\r\n      //=========================  \r\n      // firebase ì‚­ì œ\r\n      //=========================  \r\n      deleteDocument(post[0].id)\r\n      alert('ê²Œì‹œë¬¼ì´ ì‚­ì œëì–´ìš”!')\r\n      goBack() // ì´ì „ í˜ì´ì§€ë¡œ ì´ë™ ( ë””í…Œì¼ í˜ì´ì§€ì—ì„œ ë³´ì—¬ì¤„ ê²Œ ì—†ìœ¼ë‹ˆê¹Œ.. )\r\n    }\r\n  }\r\n\r\n  // ëŒ“ê¸€ ì‚­ì œ\r\n  const replyDelete = (reply) => {\r\n    if (confirm(\"ì´ ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ì–´ìš”?\")) {\r\n      // console.log(\"ì‚­ì œí•  ëŒ“ê¸€ --> \", reply);\r\n    \r\n      let peopleWhoReply = [...post[0].peopleWhoReply] // ê¸°ì¡´ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸\r\n      \r\n      // UID + replyText ì˜ ê°’ì´ ë‹¤ë¥¸ ê²ƒë§Œ ë½‘ì•„ì£¼ê¸° ( ì‚­ì œí•  ëŒ“ê¸€ë§Œ ì œì™¸ì‹œí‚¤ê¸° )\r\n      peopleWhoReply = peopleWhoReply.filter((val)=>val.UID+val.replyText !== reply.UID+reply.replyText)\r\n      let replies = peopleWhoReply.length; // ëŒ“ê¸€ ìˆ˜ ë§ì¶°ì£¼ê¸°\r\n\r\n      // console.log(\"ëŒ“ê¸€ ì‚­ì œ ê²°ê³¼ --> \", peopleWhoReply, replies);\r\n      //=========================  \r\n      // firebase ìˆ˜ì •\r\n      //=========================  \r\n      editDocument({ peopleWhoReply, replies }, post[0].id)\r\n    }\r\n  }\r\n\r\n  // ë³´ë‚´ê¸° ë²„íŠ¼ - ì¹´ì¹´ì˜¤ ê³µìœ , **ì›ë˜ ê°œë°œì ëª¨ë“œ ëª¨ë°”ì¼ì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•ŠìŒ**\r\n  const kakaoShare = (post) => {\r\n    // console.log(\"ê³µìœ í•  ê²Œì‹œë¬¼ --> \",post);\r\n    if(confirm(\"ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê³µìœ í•˜ì‹œê² ì–´ìš”?\")){\r\n      // ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë¡œì§ ì‹¤í–‰\r\n      Kakao.Share.sendDefault({\r\n        objectType: 'feed',\r\n        content: {\r\n          title: post.displayName,\r\n          description: post.postText+'\\n'+post.createdDate,\r\n          imageUrl:\r\n            post.downloadURL.includes('mov') || post.downloadURL.includes('mp4') || post.downloadURL.includes('m4v') ?\r\n              // ë™ì˜ìƒì¸ ê²½ìš° ì¸ë„¤ì¼ ë§Œë“¤ë©´ ì¢‹ì€ë°.. ì˜ ëª¨ë¥´ê² ì–´ì„œ ì¼ë‹¨ ì—…ë¡œë“œ í•´ë†“ì€ ì˜ìƒì¬ìƒ ì•„ì´ì½˜ì„ ë³´ë‚¸ë‹¤\r\n              `https://firebasestorage.googleapis.com/v0/b/our-daily-life-a5c62.appspot.com/o/images%2Fvideo_icon.jpg?alt=media&token=468de73a-e6cc-4e28-8f14-35887673d630`\r\n            : \r\n              post.downloadURL,\r\n          link: {\r\n            mobileWebUrl: window.location.href,\r\n            webUrl: window.location.href,\r\n          },\r\n        },\r\n        social: {\r\n          likeCount: post.likes,\r\n          commentCount: post.replies,\r\n          sharedCount: post.shares,\r\n        },\r\n        buttons: [\r\n          {\r\n            title: 'ë³´ëŸ¬ê°€ê¸°',\r\n            link: {\r\n              mobileWebUrl: window.location.href,\r\n              webUrl: window.location.href,\r\n            },\r\n          }\r\n        ],\r\n      });\r\n\r\n      // ë³´ë‚´ê¸° +1\r\n      let shares = post.shares + 1\r\n      editDocument({ shares }, post.id)\r\n    }\r\n  }\r\n\r\n  return (\r\n    ready ?\r\n    <>\r\n    <div className={`all-feeds transition-start ${fade}`}>\r\n      <article className={`Post transition-start ${fade}`}>\r\n        <div className=\"Post-area\">\r\n\r\n          {/* í”„ë¡œí•„ ì˜ì—­ */}\r\n          <div className=\"Post-user-area\">\r\n            <div className=\"Post-writer-info\" onClick={()=>goProfile(post[0].UID)}>\r\n              <div className=\"Post-user-profileImage\">\r\n                <img src={post[0].profileImage} alt=\"í”„ë¡œí•„ì‚¬ì§„\"/>\r\n              </div>\r\n              <span className=\"Post-user-id\">{post[0].displayName}</span>\r\n            </div>\r\n            {\r\n              // ë‚´ ê¸€ --> ì‚­ì œë²„íŠ¼ í‘œì‹œ\r\n              loginUserInfo.UID === post[0].UID ?\r\n                <div className=\"Post-delete-btn\">\r\n                  <DeleteBtn onClick={postDelete}/>\r\n                </div>\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n\r\n          {/* ì´ë¯¸ì§€ ì˜ì—­ */}\r\n          <div className=\"Post-img\">\r\n            <div className=\"Post-img-bg\">\r\n              {\r\n                // ë™ì˜ìƒ / ì‚¬ì§„ ë¶„ê¸°ì²˜ë¦¬\r\n                post[0].downloadURL.includes('mov') || post[0].downloadURL.includes('mp4') || post[0].downloadURL.includes('m4v') ?\r\n                  // +`#t=0.001` ì¶”ê°€í•´ì„œ ì²« í”„ë ˆì„ìœ¼ë¡œ ë¯¸ë¦¬ë³´ê¸°ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŒ\r\n                  <video src={post[0].downloadURL+`#t=0.001`} controls/>\r\n                :\r\n                  <img src={post[0].downloadURL} alt=\"ê²Œì‹œë¬¼ì‚¬ì§„\"/>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          {/* ë²„íŠ¼ ì˜ì—­ */}\r\n          <div className=\"Post-icon-btn-area\">\r\n            <div className=\"three-btn-area\">\r\n              <button className=\"like-btn\" onClick={(e) => {\r\n                // ì¢‹ì•„ìš” ê°¯ìˆ˜\r\n                let likes = post[0].likes\r\n                // ì¢‹ì•„ìš” ì—¬ë¶€\r\n                let isLiked = post[0].peopleWhoLike.includes(user.uid)\r\n                // ì¢‹ì•„ìš” ëˆ„ë¥¸ ì‚¬ëŒë“¤\r\n                let peopleWhoLike = [...post[0].peopleWhoLike]\r\n                if (peopleWhoLike.includes(user.uid)) {\r\n                  peopleWhoLike = peopleWhoLike.filter(a => a != user.uid)\r\n                } else {\r\n                  peopleWhoLike.push(user.uid)\r\n                }\r\n                \r\n                if (isLiked) {\r\n                  console.log('ì¢‹ì•„ìš” ì·¨ì†Œ')\r\n                } else {\r\n                  console.log('ì¢‹ì•„ìš”')\r\n                }\r\n                // console.log('ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒë“¤', peopleWhoLike)\r\n\r\n                //=========================================================\r\n                // ìˆ˜ì • firebase íƒœìš°ê¸°, ë³€ê²½í•˜ëŠ” í•„ë“œë¥¼ ê°ì²´ í˜•ì‹ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤\r\n                //=========================================================\r\n                if (isLiked) {\r\n                  likes--;\r\n                  editDocument({ peopleWhoLike, likes }, post[0].id)\r\n                } else {\r\n                  likes++;\r\n                  editDocument({ peopleWhoLike, likes }, post[0].id)\r\n                }\r\n              }}>\r\n                {/* ë°›ì•„ì˜¨ propsë¥¼ í™•ì¸í•´ì„œ ì¢‹ì•„ìš” ë²„íŠ¼ ë°˜í™˜*/}\r\n                {getLikeStatus(post[0].peopleWhoLike.includes(user.uid))}\r\n              </button>\r\n              {/* ëŒ“ê¸€ ì‘ì„± ë²„íŠ¼ */}\r\n              <button className=\"reply-btn\" onClick={(e) => {\r\n                dispatch(setRmVisible(true))\r\n              }}>\r\n                <svg aria-label=\"ëŒ“ê¸€ì“°ê¸°\" color=\"#262626\" fill=\"#262626\"\r\n                height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                  <path d=\"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z\" fill=\"none\"\r\n                  stroke=\"currentColor\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n                  </path>\r\n                </svg>\r\n              </button>\r\n              {/* ê³µìœ  ë²„íŠ¼ - ì¹´ì¹´ì˜¤ ê³µìœ í•˜ê¸° */}\r\n              <button className=\"share-btn\" onClick={() => {\r\n                kakaoShare(post[0]);\r\n              }}>\r\n                <svg aria-label=\"ë³´ë‚´ê¸°\" color=\"#262626\" fill=\"#262626\"\r\n                height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                  <line fill=\"none\" stroke=\"currentColor\" strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\" x1=\"22\" x2=\"9.218\" y1=\"3\" y2=\"10.083\">\r\n                  </line>\r\n                  <polygon fill=\"none\" points=\"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334\"\r\n                  stroke=\"currentColor\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n                  </polygon>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* ë–¨ì–´ëœ¨ë¦° ê³³ì— ì €ì¥ ë²„íŠ¼ */}\r\n            <div className=\"one-btn-area\">\r\n              <button className=\"save-btn\" onClick={(e) => {\r\n                // ì €ì¥ ì—¬ë¶€\r\n                let isSaved = post[0].peopleWhoSave.includes(user.uid)\r\n                // ì €ì¥í•œ ì‚¬ëŒë“¤\r\n                let peopleWhoSave = [...post[0].peopleWhoSave]\r\n                if (peopleWhoSave.includes(user.uid)) {\r\n                  peopleWhoSave = peopleWhoSave.filter(a => a != user.uid)\r\n                } else {\r\n                  peopleWhoSave.push(user.uid)\r\n                }\r\n                \r\n                if (isSaved) {\r\n                  alert('ê²Œì‹œë¬¼ì„ ë³´ê´€í•¨ì—ì„œ ì‚­ì œí• ê²Œìš”!')\r\n                } else {\r\n                  alert('ê²Œì‹œë¬¼ì„ ë³´ê´€í•¨ì— ì¶”ê°€í• ê²Œìš”!')\r\n                }\r\n                // console.log('ì €ì¥í•œ ì‚¬ëŒë“¤', peopleWhoSave)\r\n\r\n                //=========================================================\r\n                // ìˆ˜ì • firebase íƒœìš°ê¸°, ë³€ê²½í•˜ëŠ” í•„ë“œë¥¼ ê°ì²´ í˜•ì‹ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤\r\n                //=========================================================\r\n                if (isSaved) {\r\n                  editDocument({ peopleWhoSave }, post[0].id)\r\n                } else {\r\n                  editDocument({ peopleWhoSave }, post[0].id)\r\n                }\r\n              }}>\r\n                {/* ë°›ì•„ì˜¨ propsë¥¼ í™•ì¸í•´ì„œ ì €ì¥ ë²„íŠ¼ ë°˜í™˜*/}\r\n                {getSaveStatus(post[0].peopleWhoSave.includes(user.uid))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ì¢‹ì•„ìš” Count */}\r\n          <div className=\"Post-like-area\">\r\n            <p className=\"Post-like-count\" onClick={()=>{\r\n              dispatch(setLmVisible(true)) // ì¢‹ì•„ìš” ìƒì„¸ ëª¨ë‹¬ í‘œì‹œ\r\n            }}>\r\n              <b>{post[0].likes}</b>\r\n            </p>\r\n          </div>\r\n\r\n          {/* ì¢‹ì•„ìš” ìƒì„¸ */}\r\n          {\r\n            lmVisible ?\r\n            <LikeDetail users={Users} peopleWhoLike={post[0].peopleWhoLike}/>\r\n            : null\r\n          }\r\n\r\n          {/* ê²Œì‹œê¸€ ì˜ì—­ */}\r\n          <div className=\"Post-text-area\">\r\n            <div className=\"Post-text\">\r\n              <div className=\"Post-writer-name\" onClick={()=>{goProfile(post[0].UID)}}>\r\n                <b>{post[0].displayName}</b>\r\n              </div>\r\n              <div className=\"Post-text-postText\">\r\n                {post[0].postText}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ëŒ“ê¸€ ì˜ì—­ */}\r\n          {\r\n            post[0].replies > 0 ?\r\n\r\n            <>\r\n              {/* êµ¬ë¶„ì„  */}\r\n              <div className=\"Post-reply-border\"></div>\r\n              {/* ëŒ“ê¸€ í‘œì‹œ */}\r\n              <div className=\"Post-reply-area\">\r\n                {\r\n                  post[0].peopleWhoReply.map((a,i)=>{\r\n                    return (\r\n                      <>\r\n                        <div className=\"Post-reply-with-btn\" key={a.UID}>\r\n                          <div className=\"Post-reply\">\r\n                            <span className=\"Post-reply-nickname\" onClick={()=>{goProfile(a.UID)}}>\r\n                              <b>{a.displayName}</b>\r\n                            </span>\r\n                            <span className=\"Post-reply-text\">\r\n                              {a.replyText}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {\r\n                            // ë‚´ ê¸€ --> ëŒ“ê¸€ ì‚­ì œë²„íŠ¼ í‘œì‹œ\r\n                            loginUserInfo.UID === post[0].UID ?\r\n                              <div className=\"reply-delete-btn\" key={a.UID}>\r\n                                <DeleteReplyBtn onClick={()=>{replyDelete(a)}}/>\r\n                              </div>\r\n                            :\r\n                              null\r\n                          }\r\n                        </div>\r\n                      </>\r\n                    )\r\n                  })\r\n                }\r\n              </div>\r\n            </>\r\n\r\n            : null\r\n          }\r\n\r\n          {/* ì‘ì„±ì¼ì */}\r\n          <div className=\"post-date\">\r\n            { \r\n              // ì‘ì„±ë…„ë„ê°€ ì˜¬í•´ì™€ ê°™ìœ¼ë©´ ë…„ë„ëŠ” í‘œì‹œí•˜ì§€ ì•Šê¸° \r\n              THIS_YEAR === post[0].createdDate.substring(0,4)*1\r\n              ? post[0].createdDate.substring(5,7) + \"ì›” \" + post[0].createdDate.substring(8,10) + \"ì¼ \" + post[0].createdDate.substring(11)\r\n              : post[0].createdDate.substring(0,4)+\"ë…„ \" + post[0].createdDate.substring(5,7) + \"ì›” \" + post[0].createdDate.substring(8,10) + \"ì¼ \" + post[0].createdDate.substring(11)\r\n            }\r\n          </div>\r\n        </div>\r\n      </article>\r\n\r\n      <div className=\"detail-btn-area\">\r\n        <button className=\"go-main-btn\" onClick={goBack}>\r\n          ëŒì•„ê°€ê¸°\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n    {/* ëŒ“ê¸€ ë“±ë¡ ëª¨ë‹¬ */}\r\n    {\r\n      rmVisible ?\r\n      <ReplyInput post={post[0]}/>\r\n      : null\r\n    }\r\n\r\n    </>\r\n\r\n    : null\r\n  );\r\n}\r\n\r\nexport default Detail;\r\n\r\nconst DeleteBtn = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"#000000\"\r\n    strokeWidth={1.4}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    {...props}\r\n  >\r\n    <polyline points=\"3 6 5 6 21 6\" />\r\n    <path id=\"post-delete-btn\" d=\"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\" />\r\n  </svg>\r\n);\r\n\r\nconst DeleteReplyBtn = (props) => (\r\n  <svg\r\n    viewBox=\"0 0 24 24\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    {...props}\r\n  >\r\n    <path\r\n      id=\"reply-delete-btn\"\r\n      opacity={0.5}\r\n      stroke=\"#000000\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={1.4}\r\n      d=\"M12 12 7 7m5 5 5 5m-5-5 5-5m-5 5-5 5\"\r\n    />\r\n  </svg>\r\n);","/*eslint-disable */\r\n\r\n/**\r\n * ë‚ ì§œ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜\r\n * format: í¬ë§¤íŒ… ê¸°í˜¸ (/,-,. ê°™ì€ê±°)\r\n * addMonth: ì›” ë”í•˜ê¸°\r\n * addDay: ì¼ ë”í•˜ê¸°\r\n * addYear: ë…„ ë”í•˜ê¸°\r\n*/\r\nfunction today(format='',addMonth=0,addDay=0,addYear=0){\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth()\r\n    let day = date.getDate();\r\n    let hour = date.getHours();\r\n    let min = date.getMinutes();\r\n\r\n    if(addMonth!==0){date.setMonth((date.getMonth()+addMonth))};\r\n    if(addDay!==0){date.setDate((date.getDate()+addDay))};\r\n    if(year!==0){date.setFullYear((date.getFullYear()+addYear))};\r\n\r\n    month = (\"0\" + (1 + date.getMonth())).slice(-2);\r\n    day = (\"0\" + date.getDate()).slice(-2);\r\n    year = date.getFullYear();\r\n    return year+format+month+format+day;\r\n}\r\n\r\n/**\r\n * unique ìˆ«ì êµ¬í•˜ê¸°...\r\n*/\r\nfunction GetUniqueNum(format='',addMonth=0,addDay=0,addYear=0){\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth()\r\n    let day = date.getDate();\r\n    let hour = date.getHours();\r\n    let min = date.getMinutes();\r\n    let milliseconds = date.getMilliseconds(); // ë°€ë¦¬ì´ˆ\r\n\r\n    if(addMonth!==0){date.setMonth((date.getMonth()+addMonth))};\r\n    if(addDay!==0){date.setDate((date.getDate()+addDay))};\r\n    if(year!==0){date.setFullYear((date.getFullYear()+addYear))};\r\n\r\n    month = (\"0\" + (1 + date.getMonth())).slice(-2);\r\n    day = (\"0\" + date.getDate()).slice(-2);\r\n    year = date.getFullYear();\r\n    return year+format+month+format+day+hour+min+milliseconds;\r\n}\r\n\r\n/**\r\n * ì˜¤ëŠ˜ ë‚ ì§œ + ì‹œê°„ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜\r\n * dateFormat: ë‚ ì§œ í¬ë§¤íŒ… ê¸°í˜¸ (/,-,. ê°™ì€ê±°)\r\n * timeFormat: ì‹œê°„ í¬ë§¤íŒ… ê¸°í˜¸ (/,-,. ê°™ì€ê±°)\r\n*/\r\nfunction GetCurDayTime(dateFormat,timeFormat) {\r\n    return TimeString(dateFormat,timeFormat,new Date());\r\n}\r\n\r\nfunction TimeString (dateFormat='/',timeFormat=':',date) {\r\n        \r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1; // 1ì›”=0,12ì›”=11ì´ë¯€ë¡œ 1 ë”í•¨\r\n    let day = date.getDate();\r\n    let hour = date.getHours();\r\n    let min = date.getMinutes();\r\n\r\n    if ((\"\" + month).length === 1) {\r\n        month = \"0\" + month;\r\n    }\r\n    if ((\"\" + day).length === 1) {\r\n        day = \"0\" + day;\r\n    }\r\n    if ((\"\" + hour).length === 1) {\r\n        hour = \"0\" + hour;\r\n    }\r\n    if ((\"\" + min).length === 1) {\r\n        min = \"0\" + min;\r\n    }\r\n\r\n    return (\"\" + year+ dateFormat + month+ dateFormat + day+ \" \" + hour+ timeFormat + min)\r\n}\r\n\r\nexport {today, GetCurDayTime, TimeString, GetUniqueNum } ","/* eslint-disable*/\r\n// ì»¬ë ‰ì…˜ì„ ë§Œë“¤ê³  ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ëŠ” ì‘ì—…ì„ ìœ„í•œ í›…\r\nimport { useReducer, useState } from \"react\"\r\nimport { appFireStore, timestamp, storage } from \"../firebase/config\"\r\nimport { addDoc, updateDoc, deleteDoc, doc, collection } from \"firebase/firestore\"\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { GetCurDayTime, GetUniqueNum }  from \"../utils/DateUtil.js\"\r\n\r\n\r\n// ìš°ë¦¬ê°€ ë°›ì„ ì‘ë‹µì„ ì €ì¥í•  ê°ì²´ (ê°ì²´ì´ê¸° ë•Œë¬¸ì— ë¦¬ë“€ì„œë¡œ ê´€ë¦¬)\r\n// ìƒíƒœë¥¼ ê´€ë¦¬í•  ë•Œ errorë‚˜ isPendingì„ useReducerë¡œ í•œë²ˆì— ê´€ë¦¬\r\n\r\n/**\r\n * document : íŒŒì´ì–´ìŠ¤í† ì–´ì— documentì˜ ìƒì„±ì„ ìš”ì²­í•˜ë©´ ìš°ë¦¬ê°€ ìƒì„±í•œ documentë¥¼ ë°˜í™˜\r\n *            íŒŒì´ì–´ìŠ¤í† ì–´ì˜ ë°ì´í„° ì €ì¥ ë‹¨ìœ„\r\n * isPending: í†µì‹ ì¤‘ì¸ì§€ ì•„ë‹Œì§€ ìƒíƒœ\r\n * success : ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì˜ ì„±ê³µ ìœ ë¬´\r\n */\r\nconst initState = {\r\n    document: null,\r\n    isPending: false,\r\n    error: null,\r\n    success: false\r\n}\r\n\r\n// ì „ë‹¬ ë°›ëŠ” actionì— ë”°ë¥¸ state ì—…ë°ì´íŠ¸\r\nconst storeReducer = (state, action) => {\r\n    /**case ë§ˆë‹¤ ë°ì´í„°ê°€ ë‹¤ ë‹¬ë¼ì„œ spread operator ì•ˆì“°ê³  ê·¸ëƒ¥ ì ìŒ... */\r\n    switch (action.type) {\r\n        case 'isPending':\r\n            return { isPending: true, document: null,            success: false, error: null }\r\n        case 'addDoc':\r\n            return { isPending: false, document: action.payload, success: true,  error: null }\r\n        case 'editDoc':\r\n            return { isPending: false, document: action.payload, success: true,  error: null }\r\n        case 'deleteDoc':\r\n            return { isPending: false, document: action.payload, success: true,  error: null }\r\n        case 'error':\r\n            return { isPending: false, document: null,           success: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// transaction: ìš°ë¦¬ê°€ ë°ì´í„°ë¥¼ ì €ì¥í•  ì»¬ë ‰ì…˜(í´ë”)\r\nexport const useFirestore = (transaction) => {\r\n\r\n    // responseì— ìš”ì²­ì— ëŒ€í•œ firestore ì˜ ì‘ë‹µ ì €ì¥\r\n    // ì €ì¥ë˜ëŠ” ë°ì´í„° === ì €ì¥ ì„±ê³µ ë˜ëŠ” ìš”ì²­í•œ ë¬¸ì„œ ë°ì´í„°(ê°ì²´)\r\n    const [response, dispatch] = useReducer(storeReducer, initState);\r\n    const [imgUrl, setImgUrl] = useState([]);\r\n    // colRef : ë§Œë“¤ ì»¬ë ‰ì…˜ì˜ ì°¸ì¡° (ì»¬ë ‰ì…˜ ì´ë¦„)\r\n\t// ì›í•˜ëŠ” ì»¬ë ‰ì…˜ì˜ ì°¸ì¡°ë¥¼ ì¸ìë¡œ ë³´ë‚´ì£¼ë©´ íŒŒì´ì–´ìŠ¤í† ì–´ê°€ ìë™ìœ¼ë¡œ í•´ë‹¹ ì»¬ë ‰ì…˜ì„ ìƒì„±í•´ì¤Œ \r\n    const colRef = collection(appFireStore, transaction);\r\n\r\n    \r\n    // ì»¬ë ‰ì…˜ì— ë¬¸ì„œë¥¼ ì €ì¥(ì´ë¯¸ì§€ ì €ì¥ ì‹œ)\r\n    const addDocument = async (doc,pic) => {\r\n\r\n        // ì‹œê°„ ì €ì¥(order by ìš©)\r\n        const createdTime = timestamp.fromDate(new Date());\r\n        const createdDate = GetCurDayTime('/',':');\r\n\r\n        // ìœ ì¼í‚¤ ì €ì¥\r\n        const createdUqe = GetUniqueNum();\r\n\r\n        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ê²½ë¡œ ì €ì¥\r\n        const storageRef = ref(storage, 'images/'+pic.name );\r\n        const uploadTask = uploadBytesResumable(storageRef, pic);\r\n\r\n\r\n        dispatch({ type: \"isPending\" });\r\n        try {\r\n\r\n            /*===============================================\r\n             * ì´ë¯¸ì§€ ì €ì¥\r\n             *===================================================*/\r\n\r\n            uploadTask.on('state_changed', \r\n            (snapshot) => {\r\n                null\r\n            }, \r\n            (error) => {\r\n                console.error('ì‹¤íŒ¨ ì‚¬ìœ  --> ', error);\r\n            }, \r\n            () => {\r\n              getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n                \r\n                console.log('ì—…ë¡œë“œ ê²½ë¡œ --> ', downloadURL);\r\n                /*===============================================\r\n                * ë°ì´í„° ì €ì¥\r\n                *===================================================*/\r\n                // docRef : ì°¸ì¡°(ì»¬ë ‰ì…˜ ì´ë¦„)\r\n                // addDoc : ì»¬ë ‰ì…˜ì— ë¬¸ì„œë¥¼ ì¶”ê°€\r\n                const docRef = addDoc(colRef,{ ...doc, createdTime, createdDate,createdUqe, downloadURL});\r\n                console.log(docRef);\r\n\r\n                dispatch({ type: 'addDoc', payload: docRef });\r\n                console.log('ì €ì¥ì™„ë£Œ');             \r\n              });\r\n            }\r\n          );\r\n\r\n        } catch (error) {\r\n            dispatch({ type: 'error', payload: error.message });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // ì»¬ë ‰ì…˜ì— ë¬¸ì„œë¥¼ ì €ì¥(ëŒ“ê¸€ ì €ì¥)\r\n    const addComment = async (doc) => {\r\n\r\n        // ì‹œê°„ ì €ì¥(order by ìš©)\r\n        const createdTime = timestamp.fromDate(new Date());\r\n        const createdDate = GetCurDayTime('/',':');\r\n\r\n        // ìœ ì¼í‚¤ ì €ì¥\r\n        const createdUqe = GetUniqueNum();\r\n\r\n\r\n        dispatch({ type: \"isPending\" });\r\n        try {\r\n\r\n                /*===============================================\r\n                * ë°ì´í„° ì €ì¥\r\n                *===================================================*/\r\n                // docRef : ì°¸ì¡°(ì»¬ë ‰ì…˜ ì´ë¦„)\r\n                // addDoc : ì»¬ë ‰ì…˜ì— ë¬¸ì„œë¥¼ ì¶”ê°€\r\n                const docRef = addDoc(colRef,{ ...doc, createdTime, createdDate,createdUqe});\r\n                console.log(docRef);\r\n\r\n                dispatch({ type: 'addDoc', payload: docRef });\r\n                console.log('ì €ì¥ì™„ë£Œ');               \r\n\r\n\r\n        } catch (error) {\r\n            dispatch({ type: 'error', payload: error.message });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // ì»¬ë ‰ì…˜ì—ì„œ ë¬¸ì„œë¥¼ ìˆ˜ì •\r\n    const editDocument = async (documents,id) => {\r\n        dispatch({ type: \"isPending\" });\r\n        \r\n        // const ì„ì‹œ = doc(appFireStore,'diary',id);\r\n\r\n        try {\r\n            // // ìˆ˜ì • ë‚ ì§œê°€ í•„ìš”í•  ê²½ìš° ì‚¬ìš©í•˜ë©´ ë¨\r\n            // const createdTime = timestamp.fromDate(new Date());\r\n            // const createdDate = GetCurDayTime('/',':');\r\n\r\n            // docRef : ì°¸ì¡°(ì»¬ë ‰ì…˜ ì´ë¦„)\r\n            // updateDoc : ì»¬ë ‰ì…˜ì— ìˆëŠ” ë¬¸ì„œ ìˆ˜ì •\r\n            // const docRef = await updateDoc(doc(colRef,id),{ ...documents, createdTime,createdDate});\r\n            const docRef = await updateDoc(doc(colRef,id),{ ...documents});\r\n            dispatch({ type: 'editDoc', payload: docRef });\r\n\r\n        } catch (error) {\r\n            dispatch({ type: 'error', payload: error.message });\r\n        }\r\n    }\r\n\r\n        \r\n    // ì»¬ë ‰ì…˜ì—ì„œ ë¬¸ì„œë¥¼ ì‚­ì œ\r\n    const deleteDocument = async (id) => {\r\n\r\n        dispatch({ type: \"isPending\" });\r\n        try {\r\n            const docRef = await deleteDoc(doc(colRef,id));\r\n            dispatch({ type: 'deleteDoc', payload: docRef });\r\n        } catch (error) {\r\n            dispatch({ type: 'error', payload: error.message });\r\n        }\r\n    }\r\n\r\n    \r\n    // ìœ ì € ìµœì´ˆ ì €ì¥ ( íšŒì›ê°€ì… )\r\n    const addUser = async (doc) => {\r\n\r\n        // ì‹œê°„ ì €ì¥(order by ìš©)\r\n        const createdTime = timestamp.fromDate(new Date());\r\n        const createdDate = GetCurDayTime('/',':');\r\n\r\n        // ìœ ì¼í‚¤ ì €ì¥\r\n        const createdUqe = GetUniqueNum();\r\n\r\n\r\n        dispatch({ type: \"isPending\" });\r\n        try {\r\n\r\n            /*===============================================\r\n            * ë°ì´í„° ì €ì¥\r\n            *===================================================*/\r\n            // docRef : ì°¸ì¡°(ì»¬ë ‰ì…˜ ì´ë¦„)\r\n            // addDoc : ì»¬ë ‰ì…˜ì— ë¬¸ì„œë¥¼ ì¶”ê°€\r\n            const docRef = addDoc(colRef,{ ...doc, createdTime, createdDate,createdUqe});\r\n            console.log(docRef);\r\n\r\n            dispatch({ type: 'addDoc', payload: docRef });\r\n            console.log('ì €ì¥ì™„ë£Œ');\r\n\r\n        } catch (error) {\r\n            dispatch({ type: 'error', payload: error.message });\r\n        }\r\n\r\n    }\r\n\r\n    return { addDocument, addComment, editDocument, deleteDocument, addUser, response }\r\n\r\n}"],"names":["props","useFirestore","editDocument","dispatch","response","useDispatch","loginUserInfo","useSelector","state","useState","fade","setFade","displayName","UID","replyText","newReply","setNewReply","useEffect","window","onkeydown","e","key","console","log","onkeyup","setRmVisible","className","onSubmit","preventDefault","addReply","peopleWhoReply","post","replies","push","id","then","type","name","value","onChange","target","placeholder","required","CloseBtn","onClick","viewBox","xmlns","fill","d","likeList","setLikeList","navigate","useNavigate","goProfile","val","scrollTo","top","behavior","location","reload","likePeople","peopleWhoLike","map","a","i","users","forEach","el","setLmVisible","length","src","profileImage","alt","saveYn","likeYN","deleteDocument","AllFeed","useCollection","documents","Users","useAuthContext","user","isAuthReady","uid","useParams","setPost","ready","setReady","rmVisible","replyState","lmVisible","likeState","THIS_YEAR","Date","getFullYear","goBack","history","back","timer","setTimeout","clearTimeout","filter","undefined","DeleteBtn","confirm","alert","downloadURL","includes","controls","likes","isLiked","color","height","role","width","stroke","strokeLinejoin","strokeWidth","Kakao","Share","sendDefault","objectType","content","title","description","postText","createdDate","imageUrl","link","mobileWebUrl","href","webUrl","social","likeCount","commentCount","sharedCount","shares","buttons","kakaoShare","x1","x2","y1","y2","points","isSaved","peopleWhoSave","strokeLinecap","DeleteReplyBtn","reply","replyDelete","substring","opacity","GetUniqueNum","format","addMonth","addDay","addYear","date","year","month","getMonth","day","getDate","hour","getHours","min","getMinutes","milliseconds","getMilliseconds","setMonth","setDate","setFullYear","slice","GetCurDayTime","dateFormat","timeFormat","TimeString","initState","document","isPending","error","success","storeReducer","action","payload","transaction","useReducer","colRef","collection","appFireStore","addDocument","doc","pic","createdTime","timestamp","createdUqe","storageRef","ref","storage","uploadTask","uploadBytesResumable","on","snapshot","getDownloadURL","docRef","addDoc","message","addComment","updateDoc","deleteDoc","addUser"],"sourceRoot":""}